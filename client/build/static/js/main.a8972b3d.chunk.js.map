{"version":3,"sources":["components/views/images/la_6.jpg","_actions/user_actions.js","_actions/types.js","components/Config.js","hoc/auth.js","components/views/LandingPage/LandingPage.js","components/views/checkout/CategoryForm.js","components/views/styles/mapStyle.js","components/views/components/Map.js","components/views/components/NestedList.js","components/views/components/DetailBlock.js","components/views/checkout/DetailForm.js","components/views/checkout/Review.js","components/views/checkout/RestaurantForm.js","components/views/checkout/Checkout.js","components/views/components/SideEditor.js","components/views/FormPage/Form.js","components/views/LoginPage/LoginPage.js","components/views/RegisterPage/RegisterPage.js","components/views/NavBar/Sections/LeftMenu.js","components/views/NavBar/Sections/RightMenu.js","components/views/NavBar/NavBar.js","components/views/Footer/Footer.js","components/views/PostPage/PostPage.js","components/views/BlogPage/BlogPage.js","components/editor/QuillEditor.js","components/views/BlogPage/Sections/CreatePage.js","components/views/BlogPage/Sections/EditPage.js","components/App.js","serviceWorker.js","_reducers/index.js","_reducers/user_reducer.js","index.js","components/views/images/blue_circle.svg","components/views/images/parking.svg","components/views/images/place.svg"],"names":["module","exports","auth","type","payload","axios","get","then","response","data","ComposedClass","reload","adminRoute","AuthenticationCheck","props","user","useSelector","state","dispatch","useDispatch","useEffect","isAuth","isAdmin","history","push","LandingPage","CategoryForm","getData","fetch","method","result","json","setState","category","attraction_categories","isChecked","Array","length","fill","handleCheck","event","number","target","name","split","checked","cur","forEach","element","i","key","func","console","log","cate_1","this","attractionList","value","Fragment","Typography","variant","gutterBottom","Grid","container","spacing","map","item","index","xs","sm","FormControlLabel","control","Checkbox","color","onChange","label","React","Component","MapDirectionsRenderer","findNavigationRoute","places","travelMode","waypoints","p","location","lat","latitude","lng","longitude","stopover","origin","shift","destination","pop","google","maps","DirectionsService","route","avoidHighways","status","DirectionsStatus","OK","onDirectionFound","undefined","directions","error","navigate","prevProps","prevState","navigationResult","style","height","zIndex","position","routes","legs","start_location","icon","url","require","scaledSize","Size","anchor","Point","Map","withScriptjs","withGoogleMap","defaultCenter","defaultZoom","defaultOptions","styles","mapStyle","markers","marker","radius","options","strokeWeight","fillColor","curLocation","markers_attraction","mouseOver","TravelMode","DRIVING","id","NestedList","handleMouseOver","handleMouseOut","handleClick","open","handleToggle","currentIndex","indexOf","newChecked","handleSelection","splice","parking_lot","handleTime","timeDict","time","handleData","classes","List","className","root","component","aria-labelledby","subheader","ListSubheader","ListItem","button","onClick","ListItemText","primary","Collapse","in","timeout","unmountOnExit","disablePadding","attractions","labelId","role","dense","onMouseOver","onMouseOut","ListItemIcon","edge","tabIndex","disableRipple","inputProps","ListItemSecondaryAction","placeholder","disabled","withStyles","theme","width","maxWidth","backgroundColor","palette","background","paper","nested","paddingLeft","DetailBlock","DetailForm","processInputData","attraction_groups","processMapData","curPlaces","curAttractions","places_attraction","j","location_attractions","current_location","setDepartureTime","func2","departureTime","handleDetailData","setStep2input","selectedPlaces","selected","parkingLot","totalTime","inputData","selectedData","data2","JSON","parse","googleMapURL","loadingElement","containerElement","mapElement","timeContainer","noValidate","TextField","timeTextField","InputLabelProps","shrink","step","attraction_group","listSection","ul","attraction","index2","estimate_time","ui","display","flexWrap","marginLeft","marginRight","useStyles","makeStyles","listItem","padding","total","fontWeight","title","marginTop","Review","dataPoint","duration","min","hr","Math","floor","toString","calculateTotalTime","restaurants","lunch","after_group_id","secondary","dinner","travel_times","estimate_start_time","estimate_end_time","RestaurantForm","lunchTiming","catagory","restaurant_categories","dinnerTiming","clonedeep","deepclonedPlaces","newPlaces","handleChangeLunch","setRLunch","np","Object","assign","checkedRadioLunch","handleChangeDinner","setRDinner","func3","checkedRadioDinner","setStepRinput","newOpen","toTrue","handleClickDinner","openDinner","checkedLunch","checkedDinner","paddingTop","textAlign","Rcategory","includes","Radio","rating","price","Copyright","align","Link","href","Date","getFullYear","appBar","layout","breakpoints","up","marginBottom","stepper","buttons","justifyContent","steps","Checkout","useState","activeStep","setActiveStep","step0result","setStep0result","step1input","setStep1input","step2output","setStep2output","step3input","setStep3input","stepRinput","RLunch","RDinner","timeList","setTimeList","handleDepartureTime","t","parseInt","newStep2","stringify","handleStep2output","set","new_attraction_groups","parketing_lot_name","placesList","isFound","parkingLotArea","parking_lot_area","scrollToTop","window","pageYOffset","scroll","CssBaseline","Paper","Stepper","Step","StepLabel","sideEditorMap","sideEditorData","Error","getStepContent","Button","handleWelcomeText","setWelcomeVisible","setSideEditorVisible","setSideEditorData","setSideEditorMap","userData","body","headers","Accept","SideEditor","content","setContent","contentDict","setContentDict","onEditorChange","editor","dict","newContent","keys","variables","author","_id","postVariables","onInit","margin","BalloonEditor","onBlur","onFocus","Form","arg","displayWelcome","isMounted","displaySideEditor","SideEditorInitial","post","success","message","setTimeout","SideEditorData","SideEditorMap","setPostVariables","form","image","Title","withRouter","rememberMeChecked","localStorage","getItem","formErrorMessage","setFormErrorMessage","rememberMe","setRememberMe","handleRememberMe","initialEmail","initialValues","email","password","validationSchema","Yup","shape","required","onSubmit","values","setSubmitting","dataToSubmit","loginUser","loginSuccess","setItem","userId","removeItem","catch","err","touched","errors","isSubmitting","dirty","handleChange","handleBlur","handleSubmit","handleReset","level","Item","prefix","fontSize","border","borderRadius","float","htmlType","minWidth","formItemLayout","labelCol","span","wrapperCol","tailFormItemLayout","offset","RegisterPage","lastName","confirmPassword","oneOf","lastname","moment","unix","registerUser","alert","errmsg","hasFeedback","validateStatus","Menu","SubMenu","ItemGroup","LeftMenu","mode","NavBar","visible","setVisible","placement","closable","onClose","Footer","PostPage","postId","match","params","setPost","variable","paddingBottom","createdAt","dangerouslySetInnerHTML","__html","Meta","Card","BlogPage","blogs","setBlogs","renderCards","blog","lg","md","hoverable","actions","avatar","src","description","overflowY","gutter","__ISMSIE__","navigator","userAgent","Clipboard","getMetaTagElements","stringContent","el","document","createElement","innerHTML","getElementsByTagName","e","clipboardData","pastedData","urlMatches","preventDefault","link","node","getAttribute","rendered","range","quill","getSelection","pasteHTML","setSelection","Quill","import","register","BlockEmbed","ImageBlot","imgTag","setAttribute","alt","blotName","tagName","VideoBlot","videoTag","iframeTag","FileBlot","prefixTag","innerText","bTag","linkTag","appendChild","querySelector","PollBlot","QuillEditor","html","editorHtml","imageHandler","inputOpenImageRef","current","click","videoHandler","inputOpenVideoRef","fileHandler","inputOpenFileRef","insertImage","stopPropagation","currentTarget","files","file","formData","FormData","append","header","reactQuillRef","getEditor","focus","insertEmbed","fileName","_isMounted","onFilesChange","insertVideo","insertFile","modules","toolbar","handlers","insertPoll","pollHandler","formats","initial","createRef","defaultValue","persist","ref","accept","current_state","initialValue","CreatePage","setFile","size","EditPage","createMuiTheme","pink","typography","useNextVariants","overrides","MuiCssBaseline","backgroundImage","backgroundRepeat","backgroundPosition","backgroundSize","backgroundAttachment","flexDirection","alignItems","App","supportHistory","fallback","forceRefresh","exact","path","Auth","FormPage","LoginPage","Boolean","hostname","rootReducer","combineReducers","action","loginSucces","createStoreWithMiddleware","applyMiddleware","promiseMiddleware","ReduxThunk","createStore","ReactDOM","render","store","Reducer","__REDUX_DEVTOOLS_EXTENSION__","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a8972b3d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/la_6.1409de5e.jpg\";","import axios from 'axios';\nimport {\n    LOGIN_USER,\n    REGISTER_USER,\n    AUTH_USER,\n    LOGOUT_USER,\n} from './types';\nimport { USER_SERVER } from '../components/Config.js';\n\nexport function registerUser(dataToSubmit){\n    const request = axios.post(`${USER_SERVER}/register`,dataToSubmit)\n        .then(response => response.data);\n    \n    return {\n        type: REGISTER_USER,\n        payload: request\n    }\n}\n\nexport function loginUser(dataToSubmit){\n    const request = axios.post(`${USER_SERVER}/login`,dataToSubmit)\n                .then(response => response.data);\n\n    return {\n        type: LOGIN_USER,\n        payload: request\n    }\n}\n\nexport function auth(){\n    const request = axios.get(`${USER_SERVER}/auth`)\n    .then(response => response.data);\n\n    return {\n        type: AUTH_USER,\n        payload: request\n    }\n}\n\nexport function logoutUser(){\n    const request = axios.get(`${USER_SERVER}/logout`)\n    .then(response => response.data);\n\n    return {\n        type: LOGOUT_USER,\n        payload: request\n    }\n}\n\n","export const LOGIN_USER = 'login_user';\nexport const REGISTER_USER = 'register_user';\nexport const AUTH_USER = 'auth_user';\nexport const LOGOUT_USER = 'logout_user';\n","//SERVER ROUTES\nexport const USER_SERVER = '/api/users';\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect } from 'react';\nimport { auth } from '../_actions/user_actions';\nimport { useSelector, useDispatch } from \"react-redux\";\n\nexport default function (ComposedClass, reload, adminRoute = null) {\n    function AuthenticationCheck(props) {\n\n        let user = useSelector(state => state.user);\n        const dispatch = useDispatch();\n\n        useEffect(() => {\n\n            dispatch(auth()).then(response => {\n                if (!response.payload.isAuth) {\n                    if (reload) {\n                        props.history.push('/login')\n                    }\n                } else {\n                    if (adminRoute && !response.payload.isAdmin) {\n                        props.history.push('/')\n                    }\n                    else {\n                        if (reload === false) {\n                            props.history.push('/')\n                        }\n                    }\n                }\n            })\n            \n        }, [])\n\n        return (\n            <ComposedClass {...props} user={user} />\n        )\n    }\n    return AuthenticationCheck\n}\n\n\n","import React from 'react'\nimport { FaCode } from \"react-icons/fa\";\n\nfunction LandingPage() {\n    return (\n        <>\n        <div className=\"app\">\n            <FaCode style={{ fontSize: '4rem' }} /><br />\n            <span style={{ fontSize: '2rem' }}>Let's Start Coding!</span>\n        </div>\n        <div style={{ float:'right' }}>Thanks For Using This Boiler Plate by John Ahn</div>\n        </>\n    )\n}\n\nexport default LandingPage\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { checkPropTypes } from 'prop-types';\n\nclass CategoryForm extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = ({\n      cate_1: []\n    })\n  }\n\n  getData = () => {\n    fetch('https://cse6242-backend.herokuapp.com/travel-planner/0-preprocess', {method:'GET'})\n    .then(\n      result => {\n        return result.json()\n      }).then(data => {\n        this.setState({\n          category: data.attraction_categories,\n          isChecked: Array(data.attraction_categories.length).fill(false),\n        })\n      })\n\n    // Temp\n    /*\n    this.setState({\n      category: preprocess.attraction_categories,\n      isChecked: Array(preprocess.attraction_categories.length).fill(false),\n    })\n    */\n  } \n\n  componentDidMount() {\n    this.getData()\n  }\n\n  handleCheck = (event) => {\n    var number = event.target.name\n    number = number.split(\"-\")\n    if (event.target.checked){\n      this.state.isChecked[number[1]] = true\n      // console.log(this.state.isChecked)\n      var category = this.state.category\n      var cur = []\n      this.state.isChecked.forEach(function(element, i){\n        if (element == true){\n          cur.push(category[i].key)\n        }\n      })\n      var func = this.props.func;\n      func(cur)\n    }else{\n      this.state.isChecked[number[1]] = false\n      console.log(this.state.isChecked)\n    }\n  }\n\n  render() {\n    const attractionList = []\n    if (this.state.category){\n      for (const value of this.state.category){\n        attractionList.push(value.name)\n      }\n    }\n    return (   \n      <React.Fragment>\n        <Typography variant=\"h6\" gutterBottom>\n          Destination Categories\n        </Typography>\n        <Grid container spacing={3}>\n          {attractionList.map((item, index) => (\n            <Grid key={item.key} item xs={12} sm={6} key={index}>\n              <FormControlLabel\n                control={<Checkbox color=\"secondary\" name= {\"checkedbox-\" + index} value=\"yes\" onChange={event => this.handleCheck(event)}/>}\n                label= {item}\n              />\n            </Grid>\n          ))}\n        </Grid>\n      </React.Fragment> \n    );\n  };\n}\n\nexport default CategoryForm","export default [\n    {\n        \"featureType\": \"administrative\",\n        \"elementType\": \"all\",\n        \"stylers\": [\n            {\n                \"visibility\": \"on\"\n            },\n            {\n                \"lightness\": 33\n            }\n        ]\n    },\n    {\n        \"featureType\": \"landscape\",\n        \"elementType\": \"all\",\n        \"stylers\": [\n            {\n                \"color\": \"#f2e5d4\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"poi.park\",\n        \"elementType\": \"geometry\",\n        \"stylers\": [\n            {\n                \"color\": \"#c5dac6\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"poi.park\",\n        \"elementType\": \"labels\",\n        \"stylers\": [\n            {\n                \"visibility\": \"on\"\n            },\n            {\n                \"lightness\": 20\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road\",\n        \"elementType\": \"all\",\n        \"stylers\": [\n            {\n                \"lightness\": 20\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road.highway\",\n        \"elementType\": \"geometry\",\n        \"stylers\": [\n            {\n                \"color\": \"#c5c6c6\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road.arterial\",\n        \"elementType\": \"geometry\",\n        \"stylers\": [\n            {\n                \"color\": \"#e4d7c6\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road.local\",\n        \"elementType\": \"geometry\",\n        \"stylers\": [\n            {\n                \"color\": \"#fbfaf7\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"water\",\n        \"elementType\": \"all\",\n        \"stylers\": [\n            {\n                \"visibility\": \"on\"\n            },\n            {\n                \"color\": \"#acbcc9\"\n            }\n        ]\n    }\n]","/* global google */\nimport React from \"react\";\nimport {\n  withGoogleMap,\n  GoogleMap,\n  withScriptjs,\n  Marker,\n  DirectionsRenderer,\n  InfoWindow\n} from \"react-google-maps\";\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport { width } from \"@material-ui/system\";\nimport { Circle } from \"react-google-maps\"\nimport mapStyle from '../styles/mapStyle'\n\n//const { DrawingManager } = require(\"react-google-maps/lib/components/drawing/DrawingManager\");\n\nclass MapDirectionsRenderer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      directions: null,\n      error: null,\n      length: 0\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props.places)\n    const { places, travelMode, navigate } = this.props;\n    //console.log('navigate',navigate)\n    if (navigate){\n      if (this.props.places.length > 0){\n        this.findNavigationRoute(places, travelMode)\n      }\n    }\n    }\n\n  componentDidUpdate(prevProps, prevState) {\n      //console.log(this.props.places, this.state.places)\n      if (this.props.places !== this.state.places) {\n        const { places, travelMode } = this.state;\n        this.setState({\n          length: this.props.places.length,\n          places: this.props.places,\n        }, () => {\n          if (this.props.navigate && this.state.places.length > 0) {\n            this.findNavigationRoute(this.state.places, this.props.travelMode)\n          }\n        })\n      }\n      return null\n    }\n\n    findNavigationRoute = (places, travelMode) => {\n      const waypoints = places.map(p =>({\n          location: {lat: p.latitude, lng:p.longitude},\n          stopover: true\n      }))\n      const origin = waypoints.shift().location;\n      const destination = waypoints.pop().location;\n\n      const directionsService = new google.maps.DirectionsService();\n      directionsService.route(\n        {\n          origin: origin,\n          destination: destination,\n          travelMode: travelMode,\n          waypoints: waypoints,\n          avoidHighways: true,\n        },\n        (result, status) => {\n          if (status === google.maps.DirectionsStatus.OK) {\n            var onDirectionFound = this.props.onDirectionFound\n            console.log(result)\n            if (onDirectionFound !== undefined){\n              onDirectionFound(result)\n            }\n            this.setState({\n              directions: result\n            });\n          } else {\n            this.setState({ error: result });\n          }\n        }\n      );\n    }\n\n    render() {\n      if (this.state.error) {\n        return <h1>{this.state.error}</h1>;\n      }\n      return (\n        <div>\n          <div>\n            {this.props.navigate ? (\n              this.state.directions && <DirectionsRenderer directions={this.state.directions} />\n            )\n            :(\n              this.props.navigationResult && <DirectionsRenderer directions={this.props.navigationResult} />\n            )\n            }\n          </div>\n          <div>\n            {\n              !this.props.navigate && this.props.navigationResult &&\n              <Marker style={{ height: `15px`, zIndex: -100}} position={this.props.navigationResult.routes[ 0 ].legs[ 0 ].start_location} icon = {{\n                    url: require('../images/blue_circle.svg'),\n                    scaledSize: new google.maps.Size(40, 40),\n                    anchor: new google.maps.Point(20,20)\n                  }}/>\n            }\n          </div>\n          <div>\n            {\n              this.state.directions && \n              <Marker style={{ height: `15px`, zIndex: -100}} position={this.state.directions.routes[ 0 ].legs[ 0 ].start_location} icon = {{\n                    url: require('../images/blue_circle.svg'),\n                    scaledSize: new google.maps.Size(40, 40),\n                    anchor: new google.maps.Point(20,20)\n                  }}/>\n            }\n          </div>\n        </div>\n        \n        //this.state.directions && <DirectionsRenderer panel={document.getElementById('panel')} directions={this.state.directions} />\n        )\n    }\n}\n\nconst Map = withScriptjs(\n  withGoogleMap(props => (\n    <GoogleMap\n      defaultCenter={props.defaultCenter}\n      defaultZoom={props.defaultZoom}\n      defaultOptions={{styles: mapStyle}}\n    >\n      {\n        props.markers ? (\n          props.markers.map((marker, index) => {\n            const position = { lat: marker.latitude, lng: marker.longitude };\n            return props.navigate ? (null) : (\n              <div key={'map_div' + index}>\n                <Marker style={{ height: `15px` }} key={index} position={position} icon = {{\n                  url: require('../images/parking.svg'),\n                  scaledSize: new google.maps.Size(40, 40)\n                }}/>\n                <Circle\n                  key={'circle' + index}\n                  defaultCenter={position}\n                  // radius in meter\n                  radius= {500}\n                  options={{\n                    strokeWeight : 0,\n                    fillColor: '#78CEAC'\n                  }}\n                />\n              </div>\n              )\n          })\n        ):(<div></div>)\n      }\n      {\n        props.curLocation ? (\n          <Marker style={{ height: `15px` }} position={{ lat: props.curLocation.latitude, lng: props.curLocation.longitude }} icon = {{\n            url: require('../images/blue_circle.svg'),\n            scaledSize: new google.maps.Size(30, 30),\n            anchor: new google.maps.Point(15,15)\n          }}/>\n        ) : (<div></div>)\n      }\n      {\n        props.markers_attraction ? (\n          props.markers_attraction.map((marker, index) => {\n            //console.log(marker)\n            const position = { lat: marker.location.latitude, lng: marker.location.longitude };\n            return props.navigate ? (null) : (\n                <Marker \n                  style={{ height: `15px` }} \n                  key={'2'+index} \n                  position={position} \n                  icon = {{\n                    url: require('../images/place.svg'),\n                    scaledSize: new google.maps.Size(30, 30)\n                  }}\n                >\n                  {props.mouseOver == marker.name ? (\n                    <InfoWindow>\n                      <div style={{'color':'black'}}>\n                          {marker.name}\n                      </div>\n                    </InfoWindow>\n                    )\n                  :\n                    (<div></div>)\n                  }\n                </Marker>\n              );\n          })\n        ): (<div></div>)\n      }\n      {\n        <MapDirectionsRenderer\n          places={props.markers}\n          travelMode={google.maps.TravelMode.DRIVING}\n          navigate = {props.navigate}\n          onDirectionFound = {props.func}\n          navigationResult = {props.navigationResult}\n        />\n      }\n \n      <div id=\"panel\"></div>\n    </GoogleMap>\n  ))\n);\n\nexport default Map;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Collapse from '@material-ui/core/Collapse';\nimport Grid from '@material-ui/core/Grid';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider'\n\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport { TextField } from 'material-ui';\nimport { withStyles } from '@material-ui/styles';\n\nconst useStyles = theme => ({\n  root: {\n    width: '100%',\n    maxWidth: 600,\n    backgroundColor: theme.palette.background.paper,\n  },\n  nested: {\n    paddingLeft: theme.spacing(4),\n  },\n});\n\nclass NestedList extends React.Component{\n  constructor(props){\n    super(props)\n    this.state = ({\n      open: false,\n      checked: [],\n      time: {}\n    })\n  }\n\n  handleMouseOver = value => () => {\n    var handleMouseOver = this.props.handleMouseOver\n    handleMouseOver(value)\n  }\n\n  handleMouseOut = value => () => {\n    var handleMouseOut = this.props.handleMouseOut\n    handleMouseOut(value)\n  }\n\n  handleClick = () => {\n    this.setState({\n      open: !this.state.open\n    })\n  };\n\n  handleToggle = value => () => {\n    const currentIndex = this.state.checked.indexOf(value);\n    const newChecked = [...this.state.checked];\n    var handleSelection = this.props.handleSelection\n\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n    this.setState({\n      checked: newChecked\n    })\n    // newChecked: a list of item being checked\n    //console.log(newChecked);\n    handleSelection(newChecked, this.props.item.parking_lot.name)\n  };\n\n  handleTime = target => (event) => {\n    var timeDict = this.state.time\n    timeDict[target] = event.target.value\n\n    var handleData = this.props.handleData\n    //console.log(event.target.value);\n    //console.log(target);\n\n    this.setState({\n      time: timeDict\n    }, () => {\n      //console.log(this.state.time)\n    })\n    handleData(timeDict)\n  };\n\n  render () {\n    const { classes } = this.props;\n    var c = this.state.checked\n    return (\n      <List\n        className={classes.root}\n        component=\"nav\"\n        aria-labelledby=\"nested-list-subheader\"\n        subheader={\n          <ListSubheader component=\"div\" id=\"nested-list-subheader\">\n            \n          </ListSubheader>\n        }\n      >\n        <ListItem button onClick={this.handleClick}>\n          <ListItemText primary={this.props.item.parking_lot.name} />\n          {this.state.open ? <ExpandLess /> : <ExpandMore />}\n        </ListItem>\n        <Collapse in={this.state.open} timeout=\"auto\" unmountOnExit>\n          <List component=\"div\" disablePadding>\n              {this.props.item.attractions.map(value => {\n                  const labelId = `checkbox-list-label-${value.name}`;\n                  return (\n                  <ListItem \n                    key={value.name} \n                    role={undefined} \n                    dense \n                    button \n                    onClick={this.handleToggle(value.name)} \n                    onMouseOver={this.handleMouseOver(value.name)}\n                    onMouseOut={this.handleMouseOut(value.name)}\n                    >\n                      <ListItemIcon>\n                      <Checkbox\n                          edge=\"start\"\n                          tabIndex={-1}\n                          disableRipple\n                          inputProps={{ 'aria-labelledby': labelId }}\n                          checked={this.state.checked.indexOf(value.name) !== -1}\n                      />\n                      </ListItemIcon>\n                      <ListItemText id={labelId} primary={`${value.name}`} />\n\n                      <ListItemSecondaryAction>\n                      <input\n                          type=\"number\"\n                          onChange={this.handleTime(value.name)}\n                          placeholder = {(this.state.time[value.name])? this.state.time[value.name] : '30'}\n                          disabled = {(this.state.checked.indexOf(value.name) == -1)? \"disabled\" : \"\"}\n                          />\n                      </ListItemSecondaryAction>\n                  </ListItem>\n                  );\n              })}\n          </List>\n        </Collapse>\n      </List>\n    );\n  }\n}\n\nexport default withStyles(useStyles)(NestedList);","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport NestedList from './NestedList'\n\nexport default function DetailBlock(props) {\n    var item = props.item\n    var handleData = props.handleData\n    var handleSelection = props.handleSelection\n    var handleMouseOver = props.handleMouseOver\n    var handleMouseOut = props.handleMouseOut\n    return (\n        <React.Fragment>\n            <Grid container spacing={3} style={{width: \"100%\"}}>\n                {\n                // each NestedList is a parking lot with surrounding attractions\n                }\n                <NestedList \n                    item = {item} \n                    handleData={handleData} \n                    handleSelection={handleSelection}\n                    handleMouseOver={handleMouseOver}\n                    handleMouseOut={handleMouseOut}\n                />\n            </Grid>\n        </React.Fragment>\n    );\n}","import React, {MouseEvent} from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Map from \"../components/Map\";\nimport DetailBlock from \"../components/DetailBlock\"\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport { withStyles } from '@material-ui/styles';\n\n\nconst googleMapsApiKey = \"AIzaSyD-9UDS1WHVVTiZjXjGxIUJZBGeaHTB7aI\";\n\nconst useStyles = theme => ({\n  root: {\n    width: '100%',\n    maxWidth: 600,\n    backgroundColor: theme.palette.background.paper,\n  },\n  listSection: {\n    width: '100%',\n    maxWidth: 600,\n    backgroundColor: theme.palette.background.paper,\n  },\n  ui: {\n    paddingLeft: theme.spacing(0),\n  },\n  timeContainer: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  timeTextField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: 200,\n  },\n});\n\nclass DetailForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = ({\n      totalTime: 0,\n      inputData: null,\n      places: [],\n      selectedPlaces: {},\n      places_attraction: [],\n      mouseOver: '',\n      curLocation: null,\n      departureTime: \"08:30\"\n    })\n  }\n\n  componentDidUpdate(){\n    console.log('componentDidUpdate')\n    if (this.props.data){\n      if (this.state.inputData == null){\n        this.setState({\n          inputData: this.props.data\n        }, () => {\n          console.log(\"Step 1 data: \", this.state.inputData)\n          this.processInputData(this.state.inputData)\n          this.processMapData(this.state.inputData)\n        })\n      }\n    }\n  }\n\n  processInputData = (data) => {\n      this.setState({\n        attraction_groups: data.attraction_groups\n      })\n  }\n\n  processMapData = (data) => {\n    for (var i in data.attraction_groups){\n      var location = data.attraction_groups[i].parking_lot.location\n      var curPlaces = this.state.places\n      var curAttractions = this.state.places_attraction\n      for (var j in data.attraction_groups[i].attractions){\n        var location_attractions = data.attraction_groups[i].attractions[j]\n        curAttractions.push(location_attractions)\n      }\n      curPlaces.push(location)\n      this.setState({\n        places: curPlaces,\n        places_attraction: curAttractions,\n        curLocation: data.current_location\n      })\n    }\n  }\n\n  handleMouseOver = (value) => {\n    //console.log(\"mouseOver: \", value)\n    this.setState({\n      mouseOver: value\n    })\n  }\n\n  handleMouseOut= (value) => {\n    //console.log(\"mouseOut: \", value)\n    this.setState({\n      mouseOver: ''\n    })\n  }\n\n  setDepartureTime = (event) => {\n    //console.log(event.target)\n    var setDepartureTime = this.props.func2\n    this.setState({\n      departureTime: event.target.value\n    }, () => {\n      setDepartureTime(this.state.departureTime)\n    })\n  }\n\n  // Handel time\n  handleDetailData = (value) => {\n    var setStep2input = this.props.func\n    this.setState({\n      timeDict: value\n    }, () => {\n      console.log(this.state.timeDict)\n      setStep2input(this.state.selectedPlaces, this.state.timeDict)\n    })\n  }\n\n  // Handle selection\n  handleSelection = (selected, parkingLot) => {\n    console.log(\"handleSelection\", selected, parkingLot)\n    var selectedPlaces = this.state.selectedPlaces\n    var setStep2input = this.props.func\n    selectedPlaces[parkingLot] = selected\n\n    this.setState({\n      selectedPlaces: selectedPlaces\n    }, () => {\n      console.log(this.state.selectedPlaces)\n      setStep2input(this.state.selectedPlaces, this.state.timeDict)\n    })\n  }\n\n  render () {\n    const { classes } = this.props;\n    var selectedData = this.props.data2\n    if (selectedData != undefined){\n      selectedData = JSON.parse(selectedData)\n    }\n    \n    return (\n      <React.Fragment>\n        <Map\n            googleMapURL={\n            'https://maps.googleapis.com/maps/api/js?key=' +\n            googleMapsApiKey +\n            '&libraries=geometry,drawing,places'\n            }\n            markers={this.state.places}\n            markers_attraction={this.state.places_attraction}\n            loadingElement={<div style={{height: `100%`}}/>}\n            containerElement={<div style={{height: \"45vh\"}}/>}\n            mapElement={<div style={{height: `100%`}}/>}\n            defaultCenter= {{lat: 34.068387,lng: -118.359502}}\n            defaultZoom={12}\n            navigate= {false}\n            mouseOver={this.state.mouseOver}\n            curLocation = {this.state.curLocation}\n          />\n        <Typography variant=\"h6\" gutterBottom>\n          More detail of places to visit\n        </Typography>\n        <Grid container spacing={3}>\n          <Grid item xs={12} sm={6}>\n            { this.state.attraction_groups ? (\n                this.state.attraction_groups.map((item, index) => (\n                    <DetailBlock \n                      key = {index} \n                      item = {item} \n                      handleMouseOver={this.handleMouseOver} \n                      handleMouseOut={this.handleMouseOut}\n                      handleData = {this.handleDetailData} \n                      handleSelection = {this.handleSelection} \n                      />\n                  ))\n            )\n              : \n            (<div></div>)\n                }\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <form className={classes.timeContainer} noValidate style={{paddingLeft: '48px'}}>\n              <TextField\n                id=\"time\"\n                label=\"Departure Time\"\n                type=\"time\"\n                //defaultValue=\"07:30\"\n                value= {this.state.departureTime}\n                className={classes.timeTextField}\n                InputLabelProps={{\n                  shrink: true,\n                }}\n                inputProps={{\n                  step: 300, // 5 min\n                }}\n                onChange={this.setDepartureTime}\n              />\n            </form>\n            <List disablePadding className={classes.root} subheader={<li />}>\n              {\n                selectedData ? (\n                  selectedData.attraction_groups.map((attraction_group,index) => (\n                    <li key={`${index}`} className={classes.listSection}>\n                      <ul className={classes.ul}>\n                        <ListSubheader>{attraction_group.parking_lot.name}</ListSubheader>\n                        {attraction_group.attractions.map((attraction,index2) => (\n                          <ListItem key={`attraction-${index}-${index2}`}>\n                            <ListItemText primary={attraction.name}/>\n                            <Typography variant=\"body2\">{'Stay ' + attraction.estimate_time + ' min'}</Typography>\n                          </ListItem>\n                        ))}\n                      </ul>\n                    </li>\n                  ))\n                ) :\n                (<div></div>)\n              }\n            </List>\n          </Grid>\n        </Grid>\n      </React.Fragment>\n    );\n  }\n}\n\n//export default DetailForm\nexport default withStyles(useStyles)(DetailForm);","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Grid from '@material-ui/core/Grid';\nimport Map from \"../components/Map\";\nimport { ListItemSecondaryAction } from '@material-ui/core';\n\nconst googleMapsApiKey = \"AIzaSyD-9UDS1WHVVTiZjXjGxIUJZBGeaHTB7aI\";\n\nconst useStyles = makeStyles(theme => ({\n  listItem: {\n    padding: theme.spacing(1, 0),\n  },\n  total: {\n    fontWeight: '700',\n  },\n  title: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\nconst calculateTotalTime = (data) => {\n  var dataPoint = data.routes[0].legs\n  let totalTime = 0\n  dataPoint.forEach(element => {\n    totalTime += element.duration.value\n  });\n  var min = 0\n  var hr = 0\n  if (totalTime >= 60){\n    min = Math.floor(totalTime / 60)\n    totalTime %= 60\n    if (min >= 60){\n      hr = Math.floor(min / 60)\n      min %= 60\n    }\n  }\n  return hr.toString() + ' hr ' + min.toString() + ' min ' + totalTime.toString() + ' sec'\n}\n\nexport default function Review(props) {\n  const classes = useStyles();\n  console.log(props.data)\n  var totalTime = calculateTotalTime(props.data)\n  console.log('result data: ', props.data2)\n  return (\n    <React.Fragment>\n      <Map\n          googleMapURL={\n          'https://maps.googleapis.com/maps/api/js?key=' +\n          googleMapsApiKey +\n          '&libraries=geometry,drawing,places'\n          }\n          markers={places}\n          loadingElement={<div style={{height: `100%`}}/>}\n          containerElement={<div style={{height: \"60vh\"}}/>}\n          mapElement={<div style={{height: `100%`}}/>}\n          defaultCenter={{lat: 25.798939, lng: -80.291409}}\n          defaultZoom={11}\n          navigate= {false}\n          navigationResult = {props.data}\n      />\n      <Typography variant=\"h6\" gutterBottom>\n        Ready to set off!\n      </Typography>\n      <List disablePadding>\n        {\n          props.data2.attraction_groups.map((attraction_group,index) => (\n            <div key={index}>\n              {props.data2.restaurants.lunch ? (\n                props.data2.restaurants.lunch.after_group_id + 1 === index ? (\n                  <ListItem className={classes.listItem} key={'lunch' + index}>\n                    <ListItemText secondary={\n                      <React.Fragment>\n                        Lunch here\n                      </React.Fragment>\n                    } primary= {props.lunch}/>\n                    <ListItemSecondaryAction>\n                      <ListItemText secondary={\n                        <React.Fragment>\n                          ---\n                        </React.Fragment>\n                      } primary={\"Stop for 60 min\"}/>\n                    </ListItemSecondaryAction>\n                  </ListItem>\n                ) : (<div></div>)\n              )\n              :(<div></div>)\n              }\n              {props.data2.restaurants.dinner ? (\n                props.data2.restaurants.dinner.after_group_id + 1 === index ? (\n                  <ListItem className={classes.listItem} key={'dinner' + index}>\n                    <ListItemText secondary={\n                      <React.Fragment>\n                        Dinner here\n                      </React.Fragment>\n                    } primary= {props.dinner}/>\n                    <ListItemSecondaryAction>\n                      <ListItemText secondary={\n                        <React.Fragment>\n                          ---\n                        </React.Fragment>\n                      } primary={\"Stop for 60 min\"}/>\n                    </ListItemSecondaryAction>\n                  </ListItem>\n                ) : (<div></div>)\n              )\n              :(<div></div>)\n              }\n              {attraction_group.attractions.map((attraction) => (\n\n                  <ListItem className={classes.listItem} key={'list' + index}>\n                    <ListItemText secondary={\n                      <React.Fragment>\n                        { attraction_group ?\n                          (\"Park at: \" + attraction_group.parking_lot.name)\n                          :\n                          (\"From current location\")\n                        }\n                      </React.Fragment>\n                    } primary={attraction.name}/>\n                    <ListItemSecondaryAction key={'listSecondaryAction' + index}>\n                      <ListItemText secondary={\n                        <React.Fragment>\n                          { \n                            attraction_group.travel_times.estimate_start_time + ' - ' + attraction_group.travel_times.estimate_end_time\n                          }\n                        </React.Fragment>\n                      } primary={\"Stop for \" + attraction.estimate_time + \" min\"}/>\n                    </ListItemSecondaryAction>\n                    {/*<Typography variant=\"body2\">{\"Stop for \" + attraction.estimate_time + \" min\"}</Typography>*/}\n                  </ListItem>\n              ))\n              }\n            </div>\n          ))\n        }\n        <ListItem className={classes.listItem}>\n          <ListItemText primary=\"Total Driving Time\" />\n          <Typography variant=\"subtitle1\" className={classes.total}>\n            {totalTime}\n          </Typography>\n        </ListItem>\n      </List>\n    </React.Fragment>\n  );\n}\n\nconst places = [\n  {latitude: 25.8103146,longitude: -80.1751609},\n  {latitude: 27.9947147,longitude: -82.5943645},\n  {latitude: 28.4813018,longitude: -81.4387899}\n]","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Map from \"../components/Map\";\nimport DetailBlock from \"../components/DetailBlock\"\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { withStyles } from '@material-ui/styles';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Collapse from '@material-ui/core/Collapse';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\n\nconst googleMapsApiKey = \"AIzaSyD-9UDS1WHVVTiZjXjGxIUJZBGeaHTB7aI\";\n\nconst useStyles = theme => ({\n    root: {\n      width: '100%',\n      maxWidth: 360,\n      backgroundColor: theme.palette.background.paper,\n    },\n    listSection: {\n      width: '100%',\n      maxWidth: 600,\n      backgroundColor: theme.palette.background.paper,\n    },\n    ui: {\n      paddingLeft: theme.spacing(0),\n    },\n  });\n\nclass RestaurantForm extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = ({\n            checkedLunch: [0],\n            checkedDinner: [0],\n            inputData: null,\n            places: [],\n            newPlaces: [],\n\n            open: [false,false,false,false,false,false],\n            openDinner: [false,false,false,false,false,false],\n            checked: [],\n            time: {},\n            checkedRadioLunch: '',\n            checkedRadioDinner: '',\n            catagory: []\n        })\n      }\n    \n    \n    componentDidUpdate(){\n        if (this.props.data){\n            if (this.state.inputData == null){\n                this.setState({\n                inputData: this.props.data\n                }, () => {\n                console.log(\"Step 3 data: \", this.state.inputData)\n                this.processInputData(this.state.inputData)\n                this.processMapData(this.state.inputData)\n                })\n            }\n        }\n    }\n\n    processInputData = (data) => {\n        if (data.restaurants.lunch) {\n            this.setState({\n            attraction_groups: data.attraction_groups,\n            lunchTiming: data.restaurants.lunch.after_group_id,\n            lunch: data.restaurants.lunch.restaurants,\n            catagory: data.restaurant_categories\n            })\n        }\n        if (data.restaurants.dinner){\n            this.setState({\n                dinnerTiming: data.restaurants.dinner.after_group_id,\n                dinner: data.restaurants.dinner.restaurants\n            })\n        }\n    }\n\n    processMapData = (data) => {\n        console.log(\"processMapData\")\n        const clonedeep = require('lodash.clonedeep')\n        const curLocation = data.current_location\n        var curPlaces = this.state.places\n        curPlaces.push(curLocation)\n        for (var i in data.attraction_groups){\n          var location = data.attraction_groups[i].parking_lot.location\n          //var curPlaces = this.state.places\n          curPlaces.push(location)\n          const deepclonedPlaces = clonedeep(curPlaces)\n          this.setState({\n            places: curPlaces,\n            newPlaces: deepclonedPlaces\n          })\n        }\n      }\n      \n    handleChangeLunch = value => (event) => {\n        //console.log(value)\n        var setRLunch = this.props.func2\n        var np = Object.assign([],this.state.places)\n        //console.log(np)\n        np.splice(this.state.lunchTiming + 2,0, {latitude: value.latitude, longitude: value.longitude})\n        //console.log(np)\n        \n        this.setState({\n            newPlaces: np,\n            checkedRadioLunch: value.name\n        }, () => {\n            setRLunch(value.name)\n            console.log(\"state\", this.state.newPlaces)\n        })\n    }\n\n    handleChangeDinner = value => (event) => {\n        //console.log(value)\n        var setRDinner = this.props.func3\n        var np = Object.assign([],this.state.newPlaces)\n        if (this.state.lunchTiming){\n            np.splice(this.state.dinnerTiming + 3,0, {latitude: value.latitude, longitude: value.longitude})\n        }\n        else{\n            np.splice(this.state.dinnerTiming + 3,0, {latitude: value.latitude, longitude: value.longitude})\n        }\n        //console.log(np)\n        \n        this.setState({\n            newPlaces: np,\n            checkedRadioDinner: value.name\n        }, () => {\n            setRDinner(value.name)\n            console.log(\"state\", this.state.newPlaces)\n        })\n    }\n\n    onDirectionFound = result => {\n        console.log(result)\n        var setStepRinput = this.props.func\n        if (result && setStepRinput){\n            setStepRinput(result)\n        }\n    }\n\n    handleClick = (value) => {\n        console.log(value)\n        var newOpen = this.state.open\n        var toTrue = false\n        if (newOpen[value] == false) {\n            toTrue = true\n        }\n        newOpen = [false,false,false,false,false,false]\n        if (toTrue){\n            newOpen[value] = true\n        }\n        this.setState({\n          //open: !this.state.open\n          open: newOpen\n        })\n      };\n    \n    handleClickDinner = (value) => {\n        var newOpen = this.state.openDinner\n        var toTrue = false\n        if (newOpen[value] == false) {\n            toTrue = true\n        }\n        newOpen = [false,false,false,false,false,false]\n        if (toTrue){\n            newOpen[value] = true\n        }\n        this.setState({\n          //open: !this.state.open\n          openDinner: newOpen\n        })\n    };\n\n    render() {\n        const { classes } = this.props;\n        return (\n            <React.Fragment>\n            <Map\n                googleMapURL={\n                'https://maps.googleapis.com/maps/api/js?key=' +\n                googleMapsApiKey +\n                '&libraries=geometry,drawing,places'\n                }\n                markers={this.state.newPlaces}\n                loadingElement={<div style={{height: `100%`}}/>}\n                containerElement={<div style={{height: \"45vh\"}}/>}\n                mapElement={<div style={{height: `100%`}}/>}\n                defaultCenter={{lat: 34.043146, lng: -118.267270}}\n                defaultZoom={11}\n                navigate= {true}\n                func = {this.onDirectionFound}\n                />\n            <Typography variant=\"h4\" color=\"textPrimary\" style={{paddingTop:\"30px\"}}>\n                Seems like you need to have a food break in your trip\n            </Typography>\n            <Typography variant=\"h5\" color=\"textSecondary\" gutterBottom>\n                Let us help you pick a decent restaurant along the way!\n            </Typography>\n            <Grid container spacing={3}>\n                <Grid item xs={12} sm={4}>\n                    <Typography variant=\"h4\" gutterBottom style={{textAlign:\"center\"}}>\n                        Lunch\n                    </Typography >\n                    <React.Fragment>\n                    { this.state.lunch ? (\n                        this.state.catagory.map((Rcategory, index) => (\n                            <List key={Rcategory + index} className={classes.root} component=\"nav\" aria-labelledby=\"nested-list-subheader\">\n                                <ListItem button onClick={() => this.handleClick(index)}>\n                                <ListItemText primary= {Rcategory.name} />\n                                {this.state.open[index] ? <ExpandLess /> : <ExpandMore />}\n                                </ListItem>\n                                <Collapse in={this.state.open[index]} timeout=\"auto\" unmountOnExit>\n                                <List component=\"div\" disablePadding>\n                                        {this.state.lunch.map( value => {\n                                            if (value.style.includes(Rcategory.key)){\n                                                const labelId = `checkbox-list-label-${value.name}`;\n                                                return (\n                                                    <ListItem \n                                                    key={value.name} \n                                                    role={undefined} \n                                                    dense \n                                                    button \n                                                    onClick={this.handleChangeLunch(value)} \n                                                    >\n                                                      <ListItemIcon>\n                                                        <FormControlLabel control={<Radio />} \n                                                            checked={this.state.checkedRadioLunch === value.name}\n                                                            tabIndex={-1}\n                                                            onChange={this.handleChangeLunch(value)}\n                                                        />\n                                                      </ListItemIcon>\n                                                      <ListItemText id={labelId} primary={`${value.name}`} secondary={\n                                                            <React.Fragment>\n                                                                {value.rating + ' . ' + value.price}\n                                                            </React.Fragment>\n                                                        }/>\n                                                  </ListItem>\n                                                )\n                                            }\n                                        })\n                                    }\n                                </List>\n                                </Collapse>\n                            </List>\n                        ))\n\n                        ) : (<div></div>)\n                    }\n                    </React.Fragment>\n                </Grid>\n                <Grid item xs={12} sm={4} style={{textAlign:\"center\"}}>\n                <Typography variant=\"h4\" gutterBottom>\n                    { this.state.lunch ? (\n                        <div>\n                            <Typography variant=\"h5\" color=\"textSecondary\" gutterBottom style={{textAlign:\"center\"}}>\n                                Lunch Time: \n                            </Typography >\n                            {this.state.lunchTiming > 0 ? (\n                                <div>\n                                    <Typography variant=\"h5\" color=\"textSecondary\" gutterBottom style={{textAlign:\"center\"}}>\n                                        From {this.state.attraction_groups[this.state.lunchTiming].travel_times.estimate_end_time}\n                                    </Typography>\n                                </div>\n                                )\n                            : (\n                                <div>\n                                    <Typography variant=\"h5\" color=\"textSecondary\" gutterBottom style={{textAlign:\"center\"}}>\n                                        From {this.state.attraction_groups[this.state.lunchTiming].travel_times.estimate_end_time}\n                                    </Typography>\n                                </div>\n                            )}\n                        </div>\n                    ) : (<div></div>)\n                    }\n                    { this.state.dinner ? (\n                        <div>\n                            <Typography variant=\"h5\" color=\"textSecondary\" gutterBottom style={{textAlign:\"center\"}}>\n                                Dinner Time: \n                            </Typography >\n                            {this.state.dinnerTiming > 0 ? (\n                                <div>\n                                    <Typography variant=\"h5\" color=\"textSecondary\" gutterBottom style={{textAlign:\"center\"}}>\n                                        From {this.state.attraction_groups[this.state.dinnerTiming].travel_times.estimate_end_time}\n                                    </Typography>\n                                </div>\n                                )\n                            : (\n                                <div>\n                                    <Typography variant=\"h5\" color=\"textSecondary\" gutterBottom style={{textAlign:\"center\"}}>\n                                        From {this.state.attraction_groups[this.state.dinnerTiming].travel_times.estimate_end_time}\n                                    </Typography>\n                                </div>\n                            )}\n                        </div>\n                    ) : (<div></div>)\n                    }\n                </Typography >\n                </Grid>\n                <Grid item xs={12} sm={4}>\n                    <Typography variant=\"h4\" gutterBottom style={{textAlign:\"center\"}}>\n                        Dinner\n                    </Typography >\n                    <React.Fragment>\n                    { this.state.dinner ? (\n                        this.state.catagory.map((Rcategory, index) => (\n                            <List key={Rcategory + index} className={classes.root} component=\"nav\" aria-labelledby=\"nested-list-subheader\">\n                                <ListItem button onClick={() => this.handleClickDinner(index)}>\n                                <ListItemText primary= {Rcategory.name} />\n                                {this.state.openDinner[index] ? <ExpandLess /> : <ExpandMore />}\n                                </ListItem>\n                                <Collapse in={this.state.openDinner[index]} timeout=\"auto\" unmountOnExit>\n                                <List component=\"div\" disablePadding>\n                                        {this.state.dinner.map( value => {\n                                            if (value.style.includes(Rcategory.key)){\n                                                const labelId = `checkbox-list-label-${value.name}`;\n                                                return (\n                                                    <ListItem \n                                                    key={value.name} \n                                                    role={undefined} \n                                                    dense \n                                                    button \n                                                    onClick={this.handleChangeDinner(value)} \n                                                    >\n                                                      <ListItemIcon>\n                                                        <FormControlLabel control={<Radio />} \n                                                            checked={this.state.checkedRadioDinner === value.name}\n                                                            tabIndex={-1}\n                                                            disableRipple\n                                                            onChange={this.handleChangeDinner(value)}\n                                                        />\n                                                      </ListItemIcon>\n                                                      <ListItemText id={labelId} primary={`${value.name}`} secondary={\n                                                            <React.Fragment>\n                                                                {value.rating + ' . ' + value.price}\n                                                            </React.Fragment>\n                                                        }/>\n                                                  </ListItem>\n                                                )\n                                            }\n                                        })\n                                    }\n                                </List>\n                                </Collapse>\n                            </List>\n                        ))\n\n                        ) : (<div></div>)\n                    }\n                    </React.Fragment>\n                </Grid>\n            </Grid>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default withStyles(useStyles)(RestaurantForm)\n\nvar places = [\n  {latitude: 34.010088,longitude: -118.496493},\n  {latitude: 34.068812,longitude: -118.444480},\n  {latitude: 34.043146,longitude: -118.267270}\n]\n","import React, { useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Paper from '@material-ui/core/Paper';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Button from '@material-ui/core/Button';\nimport Link from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\n\nimport CategoryForm from './CategoryForm';\nimport DetailForm from './DetailForm';\nimport Review from './Review';\nimport RestaurantForm from './RestaurantForm';\nimport axios from 'axios';\n\n//import TEMPsetp1input from '../data/setp1input.json'\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        996 Studio\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles(theme => ({\n  appBar: {\n    position: 'relative',\n  },\n  layout: {\n    width: 'auto',\n    paddingTop: theme.spacing(1),\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    [theme.breakpoints.up(1400 + theme.spacing(1) * 2)]: {\n      width: 1000,\n      marginLeft: 'auto',\n      marginRight: 'auto'\n    },\n  },\n  paper: {\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(3),\n    padding: theme.spacing(2),\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\n      marginTop: theme.spacing(6),\n      marginBottom: theme.spacing(6),\n      padding: theme.spacing(3),\n    },\n  },\n  stepper: {\n    padding: theme.spacing(3, 0, 5),\n  },\n  buttons: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n  },\n  button: {\n    marginTop: theme.spacing(3),\n    marginLeft: theme.spacing(1),\n  },\n}));\n\nconst steps = ['Destination categories', 'Places to visit', 'Restaurant choice', 'Journey summary'];\n\n\nexport default function Checkout(props) {\n  const classes = useStyles();\n\n  console.log(props.step)\n  \n  // initialize the starting state\n  const [activeStep, setActiveStep] = React.useState(props.step || 0);\n  const [intervalId, setIntervalId] = React.useState();\n  const [step0result, setStep0result] = React.useState();\n  const [step1input, setStep1input] = React.useState();\n  const [step2output, setStep2output] = React.useState();\n  const [step3input, setStep3input] = React.useState();\n  const [stepRinput, setStepRinput] = React.useState();\n  const [RLunch, setRLunch] = React.useState();\n  const [RDinner, setRDinner] = React.useState();\n  const [timeList, setTimeList] = React.useState(new Map());\n  const [departureTime, setDepartureTime] = React.useState('07:30');\n\n  const getStepContent = (step) => {\n    console.log(step)\n    switch (step) {\n      case 0:\n        return <CategoryForm func = {setStep0result}/>;\n      case 1:\n        return <DetailForm data = {step1input} data2 = {step2output} func = {handleStep2output} func2 = {handleDepartureTime}/>;\n      case 2:\n        return <RestaurantForm data = {step3input} func = {setStepRinput} func2 = {setRLunch} func3 = {setRDinner}/>;\n      case 3: \n        return <Review data = {props.sideEditorMap? props.sideEditorMap : stepRinput} data2 = {props.sideEditorData? props.sideEditorData : step3input} lunch = {RLunch} dinner = {RDinner}/>;\n        //return <Review data = {stepRinput} data2 = {mock_result} lunch = {RLunch} dinner = {RDinner}/>;\n      default:\n        throw new Error('Unknown step');\n    }\n  }\n\n  const handleDepartureTime = (time) => {\n    var t = time.split(':')\n    var hr = parseInt(t[0])\n    var min = parseInt(t[1])\n    setDepartureTime(time)\n    if (step2output){\n      var newStep2 = JSON.parse(step2output)\n      newStep2[\"departure_time\"] = [hr,min]\n      //console.log(newStep2)\n      setStep2output(JSON.stringify(newStep2))\n      //step2output[\"departure_time\"] = [hr,min]\n    }\n    else {\n      var newStep2 = {\n        \"departure_time\": [hr,min],\n        \"attraction_groups\": []\n      }\n      //console.log(newStep2)\n      setStep2output(JSON.stringify(newStep2))\n    }\n  }\n\n  // handle every selection update in detail form\n  const handleStep2output = (places, time) => {\n    //console.log(places)\n    //console.log(time)\n    for (var key in time){\n      setTimeList(new Map(timeList.set(key, time[key])))\n    }\n\n    if (places) {\n      var attraction_groups = step1input.attraction_groups\n      var new_attraction_groups = []\n      if (step2output){\n        new_attraction_groups = step2output.attraction_groups || []\n        // console.log(\"step2output exists\")\n      }\n      attraction_groups.forEach(element => {\n        var parketing_lot_name = element.parking_lot.name\n        //console.log(places[parketing_lot_name], parketing_lot_name, places)\n        if (places[parketing_lot_name]){\n          //console.log(places[parketing_lot_name])\n          var placesList = places[parketing_lot_name]\n          var attractionList = []\n\n          element.attractions.forEach(attraction => {\n            if (placesList.indexOf(attraction.name) !== -1){\n              var name = attraction.name\n              if (timeList.get(name)){\n                attraction.estimate_time = parseInt(timeList.get(name))\n              }\n              else{\n                attraction.estimate_time = 30\n              }\n              attractionList.push(attraction)\n            }\n          })\n          \n          var isFound = false\n          new_attraction_groups.forEach((parkingLotArea, index) => {\n            if (parkingLotArea.name == parketing_lot_name){\n              new_attraction_groups[index][\"attractions\"] = attractionList\n              isFound = true\n            }\n          })\n\n          if (!isFound){\n            var parking_lot_area = {\n              \"parking_lot\": element.parking_lot,\n              \"attractions\": attractionList\n            }\n            new_attraction_groups.push(parking_lot_area)\n          }\n\n        }\n      });\n      //console.log(new_attraction_groups)\n      var t = departureTime.split(':')\n      var hr = parseInt(t[0])\n      var min = parseInt(t[1])\n      var newStep2 = {\n        \"departure_time\": [hr, min],\n        \"attraction_groups\": new_attraction_groups\n      }\n      console.log(newStep2)\n      setStep2output(JSON.stringify(newStep2))\n    }\n    else {\n      console.log('not ready yet')\n    }\n  }\n\n  const handleNext = () => {\n    var handleWelcomeText = props.setWelcomeVisible;\n    var setSideEditorVisible = props.setSideEditorVisible;\n    var setSideEditorData = props.setSideEditorData;\n    var setSideEditorMap = props.setSideEditorMap;\n    scrollToTop()\n    if (activeStep == 0){\n        setSideEditorVisible(false)\n        handleWelcomeText(false)\n        console.log(step0result)\n        let userData = {\n          \"attraction_categories\": step0result\n        }\n\n        fetch('https://cse6242-backend.herokuapp.com/travel-planner/1-get-attraction-groups', \n          {\n            method:'POST',\n            body: JSON.stringify(userData),\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\"\n            }\n        }).then(\n          result => {\n            return result.json()\n          }).then(data => {\n            //console.log(data)\n            setStep1input(data)\n          })\n      }\n    else if (activeStep == 1){\n      fetch('https://cse6242-backend.herokuapp.com/travel-planner/2-get-route-restaurant/', \n        {\n          method:'POST',\n          body: step2output, // check when server back if page 3 is loaded properly\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n          }\n      }).then(\n        result => {\n          return result.json()\n        }).then(data => {\n          //console.log(data)\n          setStep3input(data)\n          setSideEditorData(data)\n        })\n    }\n    else if (activeStep == 2){\n      setSideEditorMap(stepRinput)\n      setSideEditorVisible(true)\n    }\n    else if (activeStep == 3){\n      setSideEditorVisible(false)\n    }\n\n    setActiveStep(activeStep + 1);\n    \n  };\n\n  const scrollToTop = () => {\n    console.log(window.pageYOffset )\n    window.scroll(0, - window.pageYOffset);\n  }\n\n  const handleBack = () => {\n    setActiveStep(activeStep - 1);\n  };\n\n  return (\n    <React.Fragment>\n      <CssBaseline />\n      <main className={classes.layout}>\n        <Paper className={classes.paper}>\n          <Typography component=\"h1\" variant=\"h4\" align=\"center\">\n          {activeStep === steps.length ? (\"Hope to see you soon\") : (\"Tailor your next journey\")}\n          </Typography>\n          <Stepper activeStep={activeStep} className={classes.stepper}>\n            {steps.map(label => (\n              <Step key={label}>\n                <StepLabel>{label}</StepLabel>\n              </Step>\n            ))}\n          </Stepper>\n          <React.Fragment>\n            {activeStep === steps.length ? (\n              <React.Fragment>\n                <Typography variant=\"h5\" gutterBottom>\n                  Thank you for planning your next trip with us!\n                </Typography>\n                <Typography variant=\"subtitle1\">\n                  Hope you have a wonderful trip.\n                </Typography>\n              </React.Fragment>\n            ) : (\n              <React.Fragment>\n                {getStepContent(activeStep)}\n                <div className={classes.buttons}>\n                  {activeStep !== 0 && (\n                    <Button onClick={handleBack} className={classes.button}>\n                      Back\n                    </Button>\n                  )}\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={handleNext}\n                    className={classes.button}\n                  >\n                    {activeStep === steps.length - 1 ? 'Ready to go' : 'Next'}\n                  </Button>\n                </div>\n              </React.Fragment>\n            )}\n          </React.Fragment>\n        </Paper>\n        <Copyright />\n      </main>\n    </React.Fragment>\n  );\n}","import React, {useState, useEffect} from 'react'\nimport ReactDOM from 'react-dom';\nimport { useSelector } from \"react-redux\";\n\nimport CKEditor from '@ckeditor/ckeditor5-react';\nimport BalloonEditor from '@ckeditor/ckeditor5-build-balloon';\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\n\nconst styles = {\n  editor: {\n    width: '100px'\n  }\n}\n\nexport default function SideEditor(props) {\n\n  //const user = useSelector(state => state.user)\n  const user = useSelector(state => state.user)    \n\n  const [content, setContent] = useState('')\n  const [contentDict, setContentDict] = useState({})\n\n  const onEditorChange = ( event, editor) => {\n    const data = editor.getData();\n    console.log( { event, editor, data } );\n\n    var dict = contentDict;\n    dict[editor.id] = data;\n    setContentDict(dict)\n\n    console.log('contentDict cahnges: ', contentDict)\n    var newContent = ''\n    Object.keys(contentDict).map((key, index) => {\n      newContent += contentDict[key]\n    })\n    setContent(newContent)\n\n    console.log('content cahnges: ', content)\n    var variables = {\n      //content: data,\n      content: content,\n      author: user.userData._id\n    }\n    props.postVariables(variables)\n  } \n\n  const onInit = (editor) => {\n    console.log( 'Editor is ready to use!', editor );\n\n    var content = ''\n    props.data.attraction_groups.map((attraction_group,index) => {\n      attraction_group.attractions.map((attraction) => {\n        content += \"<h1><strong>\" + attraction.name + \"</strong></h1><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p>\"\n      }\n      )\n    })\n\n    var variables = {\n      //content: data,\n      content: content,\n      author: user.userData._id\n    }\n    props.postVariables(variables)\n  }\n\n  return (\n    <div>\n      {\n        props.data.attraction_groups.map((attraction_group,index) => (\n          attraction_group.attractions.map((attraction) => (\n            <div key={index} style={{margin:\"20px auto 20px auto\", backgroundColor: 'white'}}>\n              <CKEditor\n                  editor={ BalloonEditor }\n                  placeholder=\"Start making some notes!\"\n                  data={\"<h1><strong>\" + attraction.name + \"</strong></h1><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p>\"}\n                  onInit={ onInit }\n                  onChange={ onEditorChange }\n                  onBlur={ ( event, editor ) => {\n                      console.log( 'Blur.', editor );\n                  } }\n                  onFocus={ ( event, editor ) => {\n                      console.log( 'Focus.', editor );\n                  } }\n              />\n            </div>\n          )\n        ))\n      )}\n    </div>\n  )\n}","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport axios from 'axios';\nimport { message } from 'antd';\n\nimport withStyles from '@material-ui/core/styles/withStyles'\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\n\nimport Checkout from '../checkout/Checkout.js'\nimport SideEditor from '../components/SideEditor.js'\n\nconst styles = {\n    form: {\n        textAlign: 'center'\n    },\n    image: {\n        margin: '20px auto 20px auto'\n    },\n    paper: {\n        paddingTop: '50px'\n    }\n}\n\nclass Form extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            displayWelcome: true,\n            displaySideEditor: false,\n            SideEditorInitial: true,\n            isMounted: false,\n            postVariables: {},\n            SideEditorData: {},\n            SideEditorMap: {}\n        }\n    }\n\n    componentDidMount() {\n        this.setState({\n          isMounted: true\n        })\n    }\n    \n    setWelcomeVisible = (arg) => {\n        console.log(arg)\n        this.setState({\n            displayWelcome: arg\n        })\n    }\n\n    setSideEditorVisible = (arg) => {\n        console.log('setSideEditorVisible ', arg)\n        if (this.state.isMounted){\n          this.setState({\n            displaySideEditor: arg\n          })\n        }\n\n        if (arg == true) {\n            this.setState({\n                SideEditorInitial: false\n            })\n        }\n\n        // setSideEditorVisible false equals to submittion\n        if (arg == false && this.state.SideEditorInitial == false){\n            axios.post('/api/blog/createPost', this.state.postVariables)\n            .then(response => {\n                console.log(response)\n                if (response.data.success) {\n                    message.success('Post Created')\n\n                    setTimeout(() => {\n                        // used for redirect\n                        this.props.history.push('/')\n                    }, 5000);\n                }\n            })\n        }\n    }\n\n    setSideEditorData = (data) => {\n        console.log(data)\n        this.setState({\n            SideEditorData: data\n        })\n    }\n\n    setSideEditorMap = (data) => {\n        console.log(data)\n        this.setState({\n            SideEditorMap: data\n        })\n    }\n    \n    setPostVariables = (variables) => {\n        if (this.state.isMounted){\n            this.setState({\n              postVariables: variables\n            })\n          }\n    }\n\n    render() {\n        return (\n            <div style={{ width: '80%', margin: 'auto'}}>\n                {this.state.displayWelcome === true ? (\n                        <div style={{ textAlign: 'left', paddingTop: '80px', margin: 'auto 300px auto 300px'}}>\n                            <Typography variant=\"h2\" color=\"primary\" gutterBottom style={{fontWeight: \"bold\"}}>\n                                Good morning!\n                            </Typography>\n                            <Typography variant=\"h2\" color=\"primary\" style={{color:\"white\", fontWeight: \"bold\"}}>\n                                Where you feel like going today?\n                            </Typography>\n                        </div>\n                    ) : (<div></div>)\n                }\n                {this.state.displaySideEditor === true ? (\n                        <Grid container spacing={5} style={{ margin: 'auto'}}>\n                            <Grid item xs={9}>  \n                                <Checkout \n                                    setWelcomeVisible = {this.setWelcomeVisible} \n                                    setSideEditorVisible = {this.setSideEditorVisible}\n                                    setSideEditorData = {this.setSideEditorData}\n                                    setSideEditorMap = {this.setSideEditorMap}\n                                    sideEditorData = {this.state.SideEditorData}\n                                    sideEditorMap = {this.state.SideEditorMap}\n                                    step = {3}\n                                />\n                            </Grid>\n                            {this.state.displaySideEditor === true ? (\n                                <Grid item xs={3}>  \n                                    <div style={{ textAlign: 'left', paddingTop: '80px'}}>\n                                        <SideEditor postVariables = {this.setPostVariables} data = {this.state.SideEditorData}/>\n                                    </div>\n                                </Grid>\n                            ) : (<div></div>)}\n                        </Grid>\n                    ) : (\n                        <div>\n                            {this.state.SideEditorInitial === false ? (\n                                <Checkout \n                                        setWelcomeVisible = {this.setWelcomeVisible} \n                                        setSideEditorVisible = {this.setSideEditorVisible}\n                                        setSideEditorData = {this.setSideEditorData}\n                                        setSideEditorMap = {this.setSideEditorMap}\n                                        step = {4}\n                                />\n                            ):(\n                                <Checkout \n                                        setWelcomeVisible = {this.setWelcomeVisible} \n                                        setSideEditorVisible = {this.setSideEditorVisible}\n                                        setSideEditorData = {this.setSideEditorData}\n                                        setSideEditorMap = {this.setSideEditorMap}\n                                />\n                            )}\n                        </div>\n                    )\n                }\n            </div>\n            \n        )\n    }\n}\n\n//paddingRight: '80px'\n\nForm.propTypes = {\n    classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(Form)","import React, { useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { loginUser } from \"../../../_actions/user_actions\";\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { Form, Icon, Input, Button, Checkbox, Typography } from 'antd';\nimport { useDispatch } from \"react-redux\";\n\nconst { Title } = Typography;\n\nfunction LoginPage(props) {\n  const dispatch = useDispatch();\n  const rememberMeChecked = localStorage.getItem(\"rememberMe\") ? true : false;\n\n  const [formErrorMessage, setFormErrorMessage] = useState('')\n  const [rememberMe, setRememberMe] = useState(rememberMeChecked)\n\n  const handleRememberMe = () => {\n    setRememberMe(!rememberMe)\n  };\n\n  const initialEmail = localStorage.getItem(\"rememberMe\") ? localStorage.getItem(\"rememberMe\") : '';\n\n  return (\n    <Formik\n      initialValues={{\n        email: initialEmail,\n        password: '',\n      }}\n      validationSchema={Yup.object().shape({\n        email: Yup.string()\n          .email('Email is invalid')\n          .required('Email is required'),\n        password: Yup.string()\n          .min(6, 'Password must be at least 6 characters')\n          .required('Password is required'),\n      })}\n      onSubmit={(values, { setSubmitting }) => {\n        setTimeout(() => {\n          let dataToSubmit = {\n            email: values.email,\n            password: values.password\n          };\n\n          dispatch(loginUser(dataToSubmit))\n            .then(response => {\n              if (response.payload.loginSuccess) {\n                window.localStorage.setItem('userId', response.payload.userId);\n                if (rememberMe === true) {\n                  window.localStorage.setItem('rememberMe', values.id);\n                } else {\n                  localStorage.removeItem('rememberMe');\n                }\n                props.history.push(\"/\");\n              } else {\n                setFormErrorMessage('Check out your Account or Password again')\n              }\n            })\n            .catch(err => {\n              setFormErrorMessage('Check out your Account or Password again')\n              setTimeout(() => {\n                setFormErrorMessage(\"\")\n              }, 3000);\n            });\n          setSubmitting(false);\n        }, 500);\n      }}\n    >\n      {props => {\n        const {\n          values,\n          touched,\n          errors,\n          dirty,\n          isSubmitting,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          handleReset,\n        } = props;\n        return (\n          <div className=\"app\">\n\n            <Title level={2}>Log In</Title>\n            <form onSubmit={handleSubmit} style={{ width: '350px' }}>\n\n              <Form.Item required>\n                <Input\n                  id=\"email\"\n                  prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                  placeholder=\"Enter your email\"\n                  type=\"email\"\n                  value={values.email}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.email && touched.email ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.email && touched.email && (\n                  <div className=\"input-feedback\">{errors.email}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required>\n                <Input\n                  id=\"password\"\n                  prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                  placeholder=\"Enter your password\"\n                  type=\"password\"\n                  value={values.password}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.password && touched.password ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.password && touched.password && (\n                  <div className=\"input-feedback\">{errors.password}</div>\n                )}\n              </Form.Item>\n\n              {formErrorMessage && (\n                <label ><p style={{ color: '#ff0000bf', fontSize: '0.7rem', border: '1px solid', padding: '1rem', borderRadius: '10px' }}>{formErrorMessage}</p></label>\n              )}\n\n              <Form.Item>\n                <Checkbox id=\"rememberMe\" onChange={handleRememberMe} checked={rememberMe} >Remember me</Checkbox>\n                <a className=\"login-form-forgot\" href=\"/reset_user\" style={{ float: 'right' }}>\n                  forgot password\n                  </a>\n                <div>\n                  <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\" style={{ minWidth: '100%' }} disabled={isSubmitting} onSubmit={handleSubmit}>\n                    Log in\n                </Button>\n                </div>\n                Or <a href=\"/register\">register now!</a>\n              </Form.Item>\n            </form>\n          </div>\n        );\n      }}\n    </Formik>\n  );\n};\n\nexport default withRouter(LoginPage);\n\n\n","import React from \"react\";\nimport moment from \"moment\";\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { registerUser } from \"../../../_actions/user_actions\";\nimport { useDispatch } from \"react-redux\";\n\nimport {\n  Form,\n  Input,\n  Button,\n} from 'antd';\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 8 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 16 },\n  },\n};\nconst tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 24,\n      offset: 0,\n    },\n    sm: {\n      span: 16,\n      offset: 8,\n    },\n  },\n};\n\nfunction RegisterPage(props) {\n  const dispatch = useDispatch();\n  return (\n\n    <Formik\n      initialValues={{\n        email: '',\n        lastName: '',\n        name: '',\n        password: '',\n        confirmPassword: ''\n      }}\n      validationSchema={Yup.object().shape({\n        name: Yup.string()\n          .required('Name is required'),\n        lastName: Yup.string()\n          .required('Last Name is required'),\n        email: Yup.string()\n          .email('Email is invalid')\n          .required('Email is required'),\n        password: Yup.string()\n          .min(6, 'Password must be at least 6 characters')\n          .required('Password is required'),\n        confirmPassword: Yup.string()\n          .oneOf([Yup.ref('password'), null], 'Passwords must match')\n          .required('Confirm Password is required')\n      })}\n      onSubmit={(values, { setSubmitting }) => {\n        setTimeout(() => {\n\n          let dataToSubmit = {\n            email: values.email,\n            password: values.password,\n            name: values.name,\n            lastname: values.lastname,\n            image: `http://gravatar.com/avatar/${moment().unix()}?d=identicon`\n          };\n\n          dispatch(registerUser(dataToSubmit)).then(response => {\n            if (response.payload.success) {\n              props.history.push(\"/login\");\n            } else {\n              alert(response.payload.err.errmsg)\n            }\n          })\n\n          setSubmitting(false);\n        }, 500);\n      }}\n    >\n      {props => {\n        const {\n          values,\n          touched,\n          errors,\n          dirty,\n          isSubmitting,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          handleReset,\n        } = props;\n        return (\n          <div className=\"app\">\n            <h2>Sign up</h2>\n            <Form style={{ minWidth: '375px' }} {...formItemLayout} onSubmit={handleSubmit} >\n\n              <Form.Item required label=\"Name\">\n                <Input\n                  id=\"name\"\n                  placeholder=\"Enter your name\"\n                  type=\"text\"\n                  value={values.name}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.name && touched.name ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.name && touched.name && (\n                  <div className=\"input-feedback\">{errors.name}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required label=\"Last Name\">\n                <Input\n                  id=\"lastName\"\n                  placeholder=\"Enter your Last Name\"\n                  type=\"text\"\n                  value={values.lastName}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.lastName && touched.lastName ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.lastName && touched.lastName && (\n                  <div className=\"input-feedback\">{errors.lastName}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required label=\"Email\" hasFeedback validateStatus={errors.email && touched.email ? \"error\" : 'success'}>\n                <Input\n                  id=\"email\"\n                  placeholder=\"Enter your Email\"\n                  type=\"email\"\n                  value={values.email}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.email && touched.email ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.email && touched.email && (\n                  <div className=\"input-feedback\">{errors.email}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required label=\"Password\" hasFeedback validateStatus={errors.password && touched.password ? \"error\" : 'success'}>\n                <Input\n                  id=\"password\"\n                  placeholder=\"Enter your password\"\n                  type=\"password\"\n                  value={values.password}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.password && touched.password ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.password && touched.password && (\n                  <div className=\"input-feedback\">{errors.password}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required label=\"Confirm\" hasFeedback>\n                <Input\n                  id=\"confirmPassword\"\n                  placeholder=\"Enter your confirmPassword\"\n                  type=\"password\"\n                  value={values.confirmPassword}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.confirmPassword && touched.confirmPassword ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.confirmPassword && touched.confirmPassword && (\n                  <div className=\"input-feedback\">{errors.confirmPassword}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item {...tailFormItemLayout}>\n                <Button onClick={handleSubmit} type=\"primary\" disabled={isSubmitting}>\n                  Submit\n                </Button>\n              </Form.Item>\n            </Form>\n          </div>\n        );\n      }}\n    </Formik>\n  );\n};\n\n\nexport default RegisterPage\n","import React from 'react';\nimport { Menu } from 'antd';\nconst SubMenu = Menu.SubMenu;\nconst MenuItemGroup = Menu.ItemGroup;\n\nfunction LeftMenu(props) {\n  return (\n    <Menu mode={props.mode}>\n    {/*<Menu.Item key=\"mail\">\n      <a href=\"/\">Home</a>\n    </Menu.Item>*/}\n    <Menu.Item key=\"blog\">\n      <a href=\"/\">Blog</a>\n    </Menu.Item>\n    <Menu.Item key=\"plan\">\n      <a href=\"/plan\">Plan</a>\n    </Menu.Item>\n    <Menu.Item key=\"create\">\n      <a href=\"/blog/create\">Create</a>\n    </Menu.Item>\n    {/*<SubMenu title={<span>Archives</span>}>\n      <MenuItemGroup title=\"Item 1\">\n        <Menu.Item key=\"setting:1\">Option 1</Menu.Item>\n        <Menu.Item key=\"setting:2\">Option 2</Menu.Item>\n      </MenuItemGroup>\n      <MenuItemGroup title=\"Item 2\">\n        <Menu.Item key=\"setting:3\">Option 3</Menu.Item>\n        <Menu.Item key=\"setting:4\">Option 4</Menu.Item>\n      </MenuItemGroup>\n    </SubMenu>*/}\n  </Menu>\n  )\n}\n\nexport default LeftMenu","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React from 'react';\nimport { Menu } from 'antd';\nimport axios from 'axios';\nimport { USER_SERVER } from '../../../Config';\nimport { withRouter } from 'react-router-dom';\nimport { useSelector } from \"react-redux\";\n\nfunction RightMenu(props) {\n  const user = useSelector(state => state.user)\n\n  const logoutHandler = () => {\n    axios.get(`${USER_SERVER}/logout`).then(response => {\n      if (response.status === 200) {\n        setTimeout(() => {\n          // used for redirect\n            props.history.push(\"/login\");\n          }, 1000);\n        \n      } else {\n        alert('Log Out Failed')\n      }\n    });\n  };\n\n  if (user.userData && !user.userData.isAuth) {\n    return (\n      <Menu mode={props.mode}>\n        <Menu.Item key=\"mail\">\n          <a href=\"/login\">Signin</a>\n        </Menu.Item>\n        <Menu.Item key=\"app\">\n          <a href=\"/register\">Signup</a>\n        </Menu.Item>\n      </Menu>\n    )\n  } else {\n    return (\n      <Menu mode={props.mode}>\n        <Menu.Item key=\"logout\">\n          <a onClick={logoutHandler}>Logout</a>\n        </Menu.Item>\n      </Menu>\n    )\n  }\n}\n\nexport default withRouter(RightMenu);\n\n","import React, { useState } from 'react';\nimport LeftMenu from './Sections/LeftMenu';\nimport RightMenu from './Sections/RightMenu';\nimport { Drawer, Button, Icon } from 'antd';\nimport './Sections/Navbar.css';\n\nfunction NavBar() {\n  const [visible, setVisible] = useState(false)\n\n  const showDrawer = () => {\n    setVisible(true)\n  };\n\n  const onClose = () => {\n    setVisible(false)\n  };\n\n  return (\n    <nav className=\"menu\" style={{ position: 'fixed', zIndex: 5, width: '100%' }}>\n      <div className=\"menu__logo\">\n        <a href=\"/\">Logo</a>\n      </div>\n      <div className=\"menu__container\">\n        <div className=\"menu_left\">\n          <LeftMenu mode=\"horizontal\" />\n        </div>\n        <div className=\"menu_rigth\">\n          <RightMenu mode=\"horizontal\" />\n        </div>\n        <Button\n          className=\"menu__mobile-button\"\n          type=\"primary\"\n          onClick={showDrawer}\n        >\n          <Icon type=\"align-right\" />\n        </Button>\n        <Drawer\n          title=\"Basic Drawer\"\n          placement=\"right\"\n          className=\"menu_drawer\"\n          closable={false}\n          onClose={onClose}\n          visible={visible}\n        >\n          <LeftMenu mode=\"inline\" />\n          <RightMenu mode=\"inline\" />\n        </Drawer>\n      </div>\n    </nav>\n  )\n}\n\nexport default NavBar","import React from 'react'\nimport Link from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\n\nfunction Copyright() {\n    return (\n      <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n        {'Copyright © '}\n        <Link color=\"inherit\" href=\"https://thatcharles.github.io/\">\n          Yu-Lin Chung\n        </Link>{' '}\n        {new Date().getFullYear()}\n        {'.'}\n      </Typography>\n    );\n  }\n\nfunction Footer() {\n    return (\n        <Copyright />\n    )\n}\n\nexport default Footer\n","import React, {useState, useEffect} from 'react'\nimport axios from 'axios';\nimport { Card, Icon, Avatar, Col, Typography, Row } from 'antd';\nconst { Title } = Typography\n\nexport default function PostPage(props) {\n\n    const postId = props.match.params.postId\n\n    const [post, setPost] = useState([])\n\n    useEffect(() => {\n        const variable = {postId: postId}\n\n        // variable is the body of the request\n        axios.post('/api/blog/getPostDetail', variable)\n            .then(response => {\n                if (response.data.success) {\n                    // console.log(response.data.post)\n                    // post is in a list\n                    setPost(response.data.post)\n                } else {\n                    alert('Couldnt get post detail')\n                }\n            })\n    }, [])\n\n    if (post.author) {\n        return (\n            <div style={{paddingTop: '80px'}}>\n                <div className=\"postPage\" style={{ width: '70%', margin: '3rem auto', backgroundColor: 'white' }}>\n                    <div style={{margin: '80px 80px 80px 80px', paddingTop: '80px', paddingBottom: '80px'}}>\n                        <Title level={2}>{post.author.name}'s Post</Title>\n                        <br />\n                        <div style={{ display: 'flex', justifyContent: 'flex-end' }}>\n                            <Title level={4}>{post.createdAt}</Title>\n                        </div>\n                        <div dangerouslySetInnerHTML={{ __html: post.content }} />\n                    </div>\n                </div>\n            </div>\n        )\n    } else {\n        return (\n            <div style={{ width: '80%', margin: '3rem auto' }}>loading...</div>\n        )\n    }\n}\n\n","import React, {useState, useEffect} from 'react'\nimport axios from 'axios';\nimport { Card, Icon, Avatar, Col, Row } from 'antd';\nimport Typography from '@material-ui/core/Typography';\n\nconst { Meta } = Card;\n\nexport default function BlogPage() {\n\n    const [blogs, setBlogs] = useState([])\n\n    // act like componentDidMount()\n    useEffect(() => {\n        axios.get('/api/blog/getBlogs')\n            .then(response => {\n                if (response.data.success) {\n                    console.log(response.data.blogs)\n                    setBlogs(response.data.blogs)\n                } else {\n                    alert('Couldn`t get blog`s lists')\n                }\n            })\n    }, [])\n\n    const renderCards = blogs.map((blog, index) => {\n        return <Col key={index} lg={8} md={12} xs={24}>\n            <Card\n                hoverable\n                style={{ width: 370, marginTop: 16 }}\n                actions={[\n                    <Icon type=\"setting\" key=\"setting\" />,\n                    <a href={`/blog/edit/${blog._id}`}><Icon type=\"edit\" key=\"edit\" /></a>,\n                    <a href={`/blog/post/${blog._id}`}> <Icon type=\"ellipsis\" key=\"ellipsis\" /></a>,\n                ]}\n            >\n                <Meta\n                    avatar={\n                        <Avatar src={blog.author.image} />\n                    }\n                    title={blog.author.name}\n                    description=\"This is the description\"\n                />\n                <div style={{ height: 150, overflowY: 'scroll', marginTop: 10 }}>\n                    {/* dangerouslySetInnerHTML is to pu the blog content in desirable style */}\n                    <div dangerouslySetInnerHTML={{ __html: blog.content }} />\n                </div>\n            </Card>\n        </Col>\n    })\n\n    return (\n        <div style={{paddingTop: '80px'}}>\n            <div style={{ width: '85%', margin: 'auto auto auto auto'}}>\n                <div style={{ textAlign: 'center' }}>\n                    <Typography variant=\"h2\" color=\"primary\" gutterBottom style={{fontWeight: \"bold\"}}>\n                        Blog Lists \n                    </Typography>\n                </div>\n                <Row gutter={[32, 16]} style={{marginLeft: '90px'}}>\n                    {renderCards}\n                </Row>\n            </div>\n        </div>\n    )\n}","import React from 'react';\nimport ReactQuill, { Quill } from 'react-quill';\nimport \"react-quill/dist/quill.snow.css\";\n\nimport axios from 'axios';\nconst __ISMSIE__ = navigator.userAgent.match(/Trident/i) ? true : false;\n\n// Quill.register('modules/clipboard', PlainClipboard, true);\n\nconst QuillClipboard = Quill.import('modules/clipboard');\n\nclass Clipboard extends QuillClipboard {\n\n    getMetaTagElements = (stringContent) => {\n        const el = document.createElement('div');\n        el.innerHTML = stringContent;\n        return el.getElementsByTagName('meta');\n    };\n\n    async onPaste(e) {\n        let clipboardData = e.clipboardData || window.clipboardData;\n        let pastedData = await clipboardData.getData('Text');\n\n        const urlMatches = pastedData.match(/\\b(http|https)?:\\/\\/\\S+/gi) || [];\n        if (urlMatches.length > 0) {\n            e.preventDefault();\n            urlMatches.forEach(link => {\n                axios.get(link)\n                    .then(payload => {\n                        // let title, image, url, description;\n                        let title, image, url;\n                        for (let node of this.getMetaTagElements(payload)) {\n                            if (node.getAttribute(\"property\") === \"og:title\") {\n                                title = node.getAttribute(\"content\");\n                            }\n                            if (node.getAttribute(\"property\") === \"og:image\") {\n                                image = node.getAttribute(\"content\");\n                            }\n                            if (node.getAttribute(\"property\") === \"og:url\") {\n                                url = node.getAttribute(\"content\");\n                            }\n                            // if (node.getAttribute(\"property\") === \"og:description\") {\n                            //     description = node.getAttribute(\"content\");\n                            // }\n                        }\n\n                        const rendered = `<a href=${url} target=\"_blank\"><div><img src=${image} alt=${title} width=\"20%\"/><span>${title}</span></div></a>`;\n\n                        let range = this.quill.getSelection();\n                        let position = range ? range.index : 0;\n                        this.quill.pasteHTML(position, rendered, 'silent');\n                        this.quill.setSelection(position + rendered.length);\n                    })\n                    .catch(error => console.error(error));\n            });\n\n        } else {\n            //console.log('when to use this') 보통 다른 곳에서  paste 한다음에  copy하면 이쪽 걸로 한다. \n            super.onPaste(e);\n        }\n    }\n\n}\nQuill.register('modules/clipboard', Clipboard, true);\n\n\nconst BlockEmbed = Quill.import('blots/block/embed');\n\nclass ImageBlot extends BlockEmbed {\n\n    static create(value) {\n        const imgTag = super.create();\n        imgTag.setAttribute('src', value.src);\n        imgTag.setAttribute('alt', value.alt);\n        imgTag.setAttribute('width', '100%');\n        return imgTag;\n    }\n\n    static value(node) {\n        return { src: node.getAttribute('src'), alt: node.getAttribute('alt') };\n    }\n\n}\n\nImageBlot.blotName = 'image';\nImageBlot.tagName = 'img';\nQuill.register(ImageBlot);\n\nclass VideoBlot extends BlockEmbed {\n\n    static create(value) {\n        if (value && value.src) {\n            const videoTag = super.create();\n            videoTag.setAttribute('src', value.src);\n            videoTag.setAttribute('title', value.title);\n            videoTag.setAttribute('width', '100%');\n            videoTag.setAttribute('controls', '');\n\n            return videoTag;\n        } else {\n            const iframeTag = document.createElement('iframe');\n            iframeTag.setAttribute('src', value);\n            iframeTag.setAttribute('frameborder', '0');\n            iframeTag.setAttribute('allowfullscreen', true);\n            iframeTag.setAttribute('width', '100%');\n            return iframeTag;\n        }\n    }\n\n    static value(node) {\n        if (node.getAttribute('title')) {\n            return { src: node.getAttribute('src'), alt: node.getAttribute('title') };\n        } else {\n            return node.getAttribute('src');\n        }\n        // return { src: node.getAttribute('src'), alt: node.getAttribute('title') };\n    }\n\n}\n\nVideoBlot.blotName = 'video';\nVideoBlot.tagName = 'video';\nQuill.register(VideoBlot);\n\nclass FileBlot extends BlockEmbed {\n\n    static create(value) {\n        const prefixTag = document.createElement('span');\n        prefixTag.innerText = \"첨부파일 - \";\n\n        const bTag = document.createElement('b');\n        //위에 첨부파일 글자 옆에  파일 이름이 b 태그를 사용해서 나온다.\n        bTag.innerText = value;\n\n        const linkTag = document.createElement('a');\n        linkTag.setAttribute('href', value);\n        linkTag.setAttribute(\"target\", \"_blank\");\n        linkTag.setAttribute(\"className\", \"file-link-inner-post\");\n        linkTag.appendChild(bTag);\n        //linkTag 이런식으로 나온다 <a href=\"btn_editPic@3x.png\" target=\"_blank\" classname=\"file-link-inner-post\"><b>btn_editPic@3x.png</b></a>\n\n        const node = super.create();\n        node.appendChild(prefixTag);\n        node.appendChild(linkTag);\n\n        return node;\n    }\n\n    static value(node) {\n        const linkTag = node.querySelector('a');\n        return linkTag.getAttribute('href');\n    }\n\n}\n\nFileBlot.blotName = 'file';\nFileBlot.tagName = 'p';\nFileBlot.className = 'file-inner-post';\nQuill.register(FileBlot);\n\nclass PollBlot extends BlockEmbed {\n\n    static create(value) {\n        const prefixTag = document.createElement('span');\n        prefixTag.innerText = \"투표 - \";\n\n        const bTag = document.createElement('b');\n        bTag.innerText = value.title;\n\n        const node = super.create();\n        node.setAttribute('id', value.id);\n        node.appendChild(prefixTag);\n        node.appendChild(bTag);\n\n        return node;\n    }\n\n    static value(node) {\n        const id = node.getAttribute('id');\n        const bTag = node.querySelector('b');\n        const title = bTag.innerText;\n        return { id, title };\n    }\n\n}\n\nPollBlot.blotName = 'poll';\nPollBlot.tagName = 'p';\nPollBlot.className = 'poll-inner-post';\nQuill.register(PollBlot);\n\nclass QuillEditor extends React.Component {\n\n    bandId;\n    placeholder;\n    onEditorChange;\n    onFilesChange;\n    onPollsChange;\n    _isMounted;\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            editorHtml: __ISMSIE__ ? \"<p>&nbsp;</p>\" : '',\n            initial: true,\n            files: [],\n        };\n\n        this.reactQuillRef = null;\n\n        this.inputOpenImageRef = React.createRef();\n        this.inputOpenVideoRef = React.createRef();\n        this.inputOpenFileRef = React.createRef();\n    }\n\n    /** use this function to update when porps.initialValue updates.  \n     *  use state initial to let it updates only once to prevent loop.\n     */ \n    static getDerivedStateFromProps(props, current_state) {\n        if (current_state.editorHtml !== props.initialValue && current_state.initial) {\n\n            return {\n                editorHtml: props.initialValue,\n                initial: false\n                //computed_prop: heavy_computation(props.editorHtml)\n            }\n        }\n        return null\n      }\n\n    componentDidMount() {\n        this._isMounted = true;\n    }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n    }\n\n    handleChange = (html) => {\n        //console.log('html', html)\n\n        this.setState({\n            editorHtml: html\n        }, () => {\n            this.props.onEditorChange(this.state.editorHtml);\n        });\n    };\n\n    // Set the Ref to show the invisible fragment\n    imageHandler = () => {\n        this.inputOpenImageRef.current.click();\n    };\n\n    videoHandler = () => {\n        this.inputOpenVideoRef.current.click();\n    };\n\n    fileHandler = () => {\n        this.inputOpenFileRef.current.click();\n    };\n\n\n    insertImage = (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        if (e.currentTarget && e.currentTarget.files && e.currentTarget.files.length > 0) {\n            const file = e.currentTarget.files[0];\n            console.log(file)\n\n            let formData = new FormData();\n            const config = {\n                header: { 'content-type': 'multipart/form-data' }\n            }\n            formData.append(\"file\", file);\n\n            axios.post('/api/blog/uploadfiles', formData, config)\n                .then(response => {\n                    if (response.data.success) {\n\n                        const quill = this.reactQuillRef.getEditor();\n                        quill.focus();\n\n                        // calculate the multi media position\n                        let range = quill.getSelection();\n                        let position = range ? range.index : 0;\n\n                        quill.insertEmbed(position, \"image\", { src: \"http://localhost:5000/\" + response.data.url, alt: response.data.fileName });\n                        quill.setSelection(position + 1);\n\n                        if (this._isMounted) {\n                            // ...this.state.file to get the current state value\n                            this.setState({\n                                files: [...this.state.files, file]\n                            }, () => { this.props.onFilesChange(this.state.files) });\n                        }\n                    } else {\n                        return alert('failed to upload file')\n                    }\n                })\n        }\n    };\n\n    insertVideo = (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        if (e.currentTarget && e.currentTarget.files && e.currentTarget.files.length > 0) {\n            const file = e.currentTarget.files[0];\n\n            let formData = new FormData();\n            const config = {\n                header: { 'content-type': 'multipart/form-data' }\n            }\n            formData.append(\"file\", file);\n\n            axios.post('/api/blog/uploadfiles', formData, config)\n                .then(response => {\n                    if (response.data.success) {\n\n                        const quill = this.reactQuillRef.getEditor();\n                        quill.focus();\n\n                        let range = quill.getSelection();\n                        let position = range ? range.index : 0;\n                        quill.insertEmbed(position, \"video\", { src: \"http://localhost:5000/\" + response.data.url, title: response.data.fileName });\n                        quill.setSelection(position + 1);\n\n                        if (this._isMounted) {\n                            this.setState({\n                                files: [...this.state.files, file]\n                            }, () => { this.props.onFilesChange(this.state.files) });\n                        }\n                    } else {\n                        return alert('failed to upload file')\n                    }\n                })\n        }\n    }\n\n    insertFile = (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        if (e.currentTarget && e.currentTarget.files && e.currentTarget.files.length > 0) {\n            const file = e.currentTarget.files[0];\n            console.log(file);\n\n            let formData = new FormData();\n            const config = {\n                header: { 'content-type': 'multipart/form-data' }\n            }\n            formData.append(\"file\", file);\n\n            axios.post('/api/blog/uploadfiles', formData, config)\n                .then(response => {\n                    if (response.data.success) {\n\n                        const quill = this.reactQuillRef.getEditor();\n                        quill.focus();\n\n                        let range = quill.getSelection();\n                        let position = range ? range.index : 0;\n                        quill.insertEmbed(position, \"file\", response.data.fileName);\n                        quill.setSelection(position + 1);\n\n                        if (this._isMounted) {\n                            this.setState({\n                                files: [...this.state.files, file]\n                            }, () => { this.props.onFilesChange(this.state.files) });\n                        }\n                    };\n                })\n        }\n    };\n\n    render() {\n        return (\n            <div style={{backgroundColor: 'white'}}>\n                <div id=\"toolbar\">\n                    <select className=\"ql-header\" defaultValue={\"\"} onChange={e => e.persist()}>\n                        <option value=\"1\" />\n                        <option value=\"2\" />\n                        <option value=\"\" />\n                    </select>\n                    <button className=\"ql-bold\" />\n                    <button className=\"ql-italic\" />\n                    <button className=\"ql-underline\" />\n                    <button className=\"ql-strike\" />\n                    <button className=\"ql-insertImage\">\n                        I\n                    </button>\n                    <button className=\"ql-insertVideo\">\n                        V\n                    </button>\n                    <button className=\"ql-insertFile\">\n                        F\n                    </button>\n                    <button className=\"ql-link\" />\n                    <button className=\"ql-code-block\" />\n                    <button className=\"ql-video\" />\n                    <button className=\"ql-blockquote\" />\n                    <button className=\"ql-clean\" />\n\n                </div>\n                <ReactQuill\n                    ref={(el) => { this.reactQuillRef = el }}\n                    theme={'snow'}\n                    onChange={this.handleChange}\n                    modules={this.modules}\n                    formats={this.formats}\n                    value={this.state.editorHtml || ''}\n                    placeholder={this.props.placeholder}\n                />\n                {/* Ref triggered by insert buttons*/}\n                <input type=\"file\" accept=\"image/*\" ref={this.inputOpenImageRef} style={{ display: \"none\" }} onChange={this.insertImage} />\n                <input type=\"file\" accept=\"video/*\" ref={this.inputOpenVideoRef} style={{ display: \"none\" }} onChange={this.insertVideo} />\n                <input type=\"file\" accept=\"*\" ref={this.inputOpenFileRef} style={{ display: \"none\" }} onChange={this.insertFile} />\n            </div>\n        )\n    }\n\n    modules = {\n        //syntax: true,\n        toolbar: {\n            container: \"#toolbar\",\n            handlers: {\n                insertImage: this.imageHandler,\n                insertVideo: this.videoHandler,\n                insertFile: this.fileHandler,\n                insertPoll: this.pollHandler,\n            }\n        },\n\n    };\n\n    formats = [\n        'header',\n        'bold', 'italic', 'underline', 'strike',\n        'image', 'video', 'file', 'link',\"code-block\", \"video\", \"blockquote\", \"clean\"\n    ];\n}\n\nexport default QuillEditor;","//rfc\nimport React, {useState, useEffect} from 'react'\nimport { Button, Form, message } from 'antd';\nimport axios from 'axios';\nimport { useSelector } from \"react-redux\";\nimport Typography from '@material-ui/core/Typography';\n\nimport QuillEditor from '../../../editor/QuillEditor';\n\nexport default function CreatePage(props) {\n\n    const user = useSelector(state => state.user)\n    const [content, setContent] = useState(\"\")\n    const [file, setFile] = useState([])\n\n    //const { Title } = Typography\n\n    const onFilesChange = (files) => {\n        setFile(files)\n    }\n\n    const onEditorChange = (value) => {\n        setContent(value)\n    }\n\n    const onSubmit = (event) => {\n        event.preventDefault()\n\n        setContent('')\n\n        // if user is not logged in\n        if (user.userData && !user.userData.isAuth) {\n            return alert('Please log in first')\n        }\n\n        // else push the content into database\n        // the variables need to be align with the naming in blogSchema\n        const variables = {\n            content: content,\n            author: user.userData._id\n        }\n        \n        // set up api in Node.js backend in server code.\n        axios.post('/api/blog/createPost', variables)\n            .then(response => {\n                console.log(response)\n                if (response.data.success) {\n                    message.success('Post Created')\n\n                    setTimeout(() => {\n                        // used for redirect\n                        props.history.push('/')\n                    }, 2000);\n                }\n            })\n    }\n\n\n\n    return (\n        <div style={{paddingTop: '80px'}}>\n            <div style={{ maxWidth: '900px', margin: '2rem auto'}}>\n                <div style={{ textAlign: 'center' }}>\n                    {/*<Title level={2} > Editor</Title>*/}\n                    <Typography variant=\"h2\" color=\"primary\" gutterBottom style={{fontWeight: \"bold\"}}>\n                        Editor\n                    </Typography>\n                </div>\n                <QuillEditor\n                    placeholder={\"Start Posting Something\"}\n                    onEditorChange={onEditorChange}\n                    onFilesChange={onFilesChange}\n                />\n\n                <Form onSubmit={onSubmit}>\n                    <div style={{ textAlign: 'center', margin: '2rem', }}>\n                        <Button\n                            size=\"large\"\n                            htmlType=\"submit\"\n                            className=\"\"\n                            onSubmit={onSubmit}\n                        >\n                            Submit\n                    </Button>\n                    </div>\n                </Form>\n            </div>\n        </div>\n    )\n}\n\n\n","//rfc\nimport React, {useState, useEffect} from 'react'\nimport { Button, Form, message } from 'antd';\nimport axios from 'axios';\nimport { useSelector } from \"react-redux\";\nimport Typography from '@material-ui/core/Typography';\n\nimport QuillEditor from '../../../editor/QuillEditor';\nimport { FaLongArrowAltDown } from 'react-icons/fa';\n\nexport default function EditPage(props) {\n\n    const user = useSelector(state => state.user)\n    const [content, setContent] = useState('')\n    const [file, setFile] = useState([])\n    \n    // get post id\n    const postId = props.match.params.postId\n\n    const [post, setPost] = useState([])\n\n    useEffect(() => {\n        const variable = {postId: postId}\n        // variable is the body of the request\n        axios.post('/api/blog/getPostDetail', variable)\n            .then(response => {\n                if (response.data.success) {\n                    // console.log(response.data.post)\n                    // post is in a list\n                    setPost(response.data.post)\n                    if (response.data.post) {\n                        console.log('original content:', response.data.post.content)\n                        setContent(response.data.post.content)\n                        console.log('content:', content)\n                    }\n                } else {\n                    alert('Couldn`t get post detail')\n                }\n            })\n    }, [])\n\n    const onFilesChange = (files) => {\n        setFile(files)\n    }\n\n    const onEditorChange = (value) => {\n        setContent(value)\n        console.log('content on change:', content)\n    }\n\n    const onSubmit = (event) => {\n        event.preventDefault()\n\n        //setContent('')\n\n        // if user is not logged in\n        if (user.userData && !user.userData.isAuth) {\n            return alert('Please log in first')\n        }\n\n        // else push the content into database\n        // the variables need to be align with the naming in blogSchema\n        const variables = {\n            _id: postId,\n            content: content,\n            author: user.userData._id\n        }\n        \n        // set up api in Node.js backend in server code.\n        axios.post('/api/blog/updatePost', variables)\n            .then(response => {\n                console.log(response)\n                if (response.data.success) {\n                    message.success('Post Updated')\n\n                    setTimeout(() => {\n                        // used for redirect\n                        props.history.push('/')\n                    }, 2000);\n                }\n            })\n    }\n\n\n\n    return (\n        <div style={{paddingTop: '80px'}}>\n            <div style={{ maxWidth: '900px', margin: '2rem auto'}}>\n                <div style={{ textAlign: 'center' }}>\n                    {/*<Title level={2} > Editor</Title>*/}\n                    <Typography variant=\"h2\" color=\"primary\" gutterBottom style={{fontWeight: \"bold\"}}>\n                        Editor\n                    </Typography>\n                </div>\n                <QuillEditor\n                    initialValue={content}\n                    onEditorChange={onEditorChange}\n                    onFilesChange={onFilesChange}\n                />\n\n                <Form onSubmit={onSubmit}>\n                    <div style={{ textAlign: 'center', margin: '2rem', }}>\n                        <Button\n                            size=\"large\"\n                            htmlType=\"submit\"\n                            className=\"\"\n                            onSubmit={onSubmit}\n                        >\n                            Submit\n                    </Button>\n                    </div>\n                </Form>\n            </div>\n        </div>\n    )\n}\n\n\n","import React, { Suspense } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Auth from \"../hoc/auth\";\n\n// MUI Theme\n//import MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider'\nimport { ThemeProvider as MuiThemeProvider } from '@material-ui/core/styles';\nimport createMuiTheme from '@material-ui/core/styles/createMuiTheme'\nimport pink from '@material-ui/core/colors/pink'\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\n\n// pages for this product\nimport LandingPage from \"./views/LandingPage/LandingPage.js\";\nimport FormPage from \"./views/FormPage/Form.js\";\nimport LoginPage from \"./views/LoginPage/LoginPage.js\";\nimport RegisterPage from \"./views/RegisterPage/RegisterPage.js\";\nimport NavBar from \"./views/NavBar/NavBar\";\nimport Footer from \"./views/Footer/Footer\"\nimport PostPage from \"./views/PostPage/PostPage.js\";\nimport BlogPage from \"./views/BlogPage/BlogPage.js\";\nimport CreatePage from \"./views/BlogPage/Sections/CreatePage.js\";\nimport EditPage from \"./views/BlogPage/Sections/EditPage.js\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: pink,\n  },\n  typography: {\n    useNextVariants: true,\n  },\n  overrides: {\n    MuiCssBaseline: {\n      \"@global\": {\n        body: {\n          backgroundImage:\n            \"url(\" + require('./views/images/la_6.jpg') + \")\",\n          backgroundRepeat: \"no-repeat\",\n          backgroundPosition: \"center center\",\n          backgroundSize: \"cover\",\n          backgroundAttachment: \"fixed\",\n          height: \"200%\",\n          //marginTop: \"-180px\",\n        },\n        html: {\n          height: \"100%\"\n        },\n      }\n    }\n  },\n  container: {\n    width: '80%',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n})\n\nfunction App() {\n  const supportHistory = 'pushState' in window.history\n  return (\n    <MuiThemeProvider theme={theme}>\n    <Suspense fallback={(<div>Loading...</div>)}>\n        <CssBaseline />\n          <NavBar/>\n          <Router forceRefresh={!supportHistory}>\n            <div className='container'>\n              <Switch>\n                {/*<Route exact path=\"/\" component={Auth(LandingPage, null)} />*/}\n                <Route exact path=\"/\" component={Auth(BlogPage, null)} />\n                <Route exact path=\"/plan\" component={Auth(FormPage, null)} />\n                <Route exact path=\"/login\" component={Auth(LoginPage, false)} />\n                <Route exact path=\"/register\" component={Auth(RegisterPage, false)} />\n                <Route exact path=\"/blog/post/:postId\" component={Auth(PostPage, null)} /> {/** postId would become a prop sent to PostPage */}\n                <Route exact path=\"/blog/create\" component={Auth(CreatePage, null)} />\n                <Route exact path=\"/blog/edit/:postId\" component={Auth(EditPage, null)} />\n              </Switch>\n            </div>\n          </Router>\n        \n        <Footer />\n    </Suspense>\n    </MuiThemeProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { combineReducers } from 'redux';\nimport user from './user_reducer';\n\nconst rootReducer = combineReducers({\n    user,\n});\n\nexport default rootReducer;","import {\n    LOGIN_USER,\n    REGISTER_USER,\n    AUTH_USER,\n    LOGOUT_USER,\n} from '../_actions/types';\n \n\nexport default function(state={},action){\n    switch(action.type){\n        case REGISTER_USER:\n            return {...state, register: action.payload }\n        case LOGIN_USER:\n            return { ...state, loginSucces: action.payload }\n        case AUTH_USER:\n            return {...state, userData: action.payload }\n        case LOGOUT_USER:\n            return {...state }\n        default:\n            return state;\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport Reducer from './_reducers';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport promiseMiddleware from 'redux-promise';\nimport ReduxThunk from 'redux-thunk';\n\n// Run npm run dev at root directory to launch application.\n\nconst createStoreWithMiddleware = applyMiddleware(promiseMiddleware, ReduxThunk)(createStore);\n\nReactDOM.render(\n    <Provider\n        store={createStoreWithMiddleware(\n            Reducer,\n            window.__REDUX_DEVTOOLS_EXTENSION__ &&\n            window.__REDUX_DEVTOOLS_EXTENSION__()\n        )}\n    >\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </Provider>\n    , document.getElementById('root'));\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/blue_circle.e95b2e68.svg\";","module.exports = __webpack_public_path__ + \"static/media/parking.36a6661f.svg\";","module.exports = __webpack_public_path__ + \"static/media/place.9399cadf.svg\";"],"sourceRoot":""}